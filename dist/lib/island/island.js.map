{"version":3,"file":"island.js","sources":["../../../src/lib/island/island.ts"],"sourcesContent":["// Copyright (C) 2024 Nethesis S.r.l.\n// SPDX-License-Identifier: AGPL-3.0-or-later\n\nimport { store } from '../../store'\nimport { eventDispatch } from '../../utils'\n\n/**\n * Retrieve the position on x axis\n */\nexport function xPosition(x: number, islandElement: HTMLElement, containerElement: HTMLElement) {\n  // Get horizontal constraints\n  const xConstraintPosition = containerElement.offsetWidth / 2 - islandElement.offsetWidth / 2\n  // Return the X position inside the constraints\n  return x > 0 && x > xConstraintPosition\n    ? xConstraintPosition\n    : x < 0 && x < -xConstraintPosition\n    ? -xConstraintPosition\n    : x\n}\n\n/**\n * Retrieve the position on y axis\n */\nexport function yPosition(y: number, islandElement: HTMLElement, containerElement: HTMLElement) {\n  // Get vertical constraints\n  const yConstraintPosition = containerElement.offsetHeight / 2 - islandElement.offsetHeight / 2\n  // Return the Y position inside the constraints\n  return y > 0 && y > yConstraintPosition\n    ? yConstraintPosition\n    : y < 0 && y < -yConstraintPosition\n    ? -yConstraintPosition\n    : y\n}\n\n/**\n * Go back to the previous view\n */\nexport function backToPreviousView() {\n  const { view, previousView } = store.getState().island\n  eventDispatch(`phone-island-call-${view}-closed`, {})\n  store.dispatch.island.setIslandView(`${previousView || 'call'}`)\n}\n"],"names":["_a","store","getState","island","view","previousView","eventDispatch","concat","dispatch","setIslandView","x","islandElement","containerElement","xConstraintPosition","offsetWidth","y","yConstraintPosition","offsetHeight"],"mappings":"gOAsCQ,IAAAA,EAAyBC,EAAAA,MAAMC,WAAWC,OAAxCC,EAAIJ,EAAAI,KAAEC,iBACdC,EAAaA,cAAC,qBAAqBC,OAAAH,aAAe,CAAA,GAClDH,QAAMO,SAASL,OAAOM,cAAc,GAAAF,OAAGF,GAAgB,QACzD,6BAhC0BK,EAAWC,EAA4BC,GAE/D,IAAMC,EAAsBD,EAAiBE,YAAc,EAAIH,EAAcG,YAAc,EAE3F,OAAOJ,EAAI,GAAKA,EAAIG,EAChBA,EACAH,EAAI,GAAKA,GAAKG,GACbA,EACDH,CACN,6BAK0BK,EAAWJ,EAA4BC,GAE/D,IAAMI,EAAsBJ,EAAiBK,aAAe,EAAIN,EAAcM,aAAe,EAE7F,OAAOF,EAAI,GAAKA,EAAIC,EAChBA,EACAD,EAAI,GAAKA,GAAKC,GACbA,EACDD,CACN"}