{"version":3,"file":"extension.js","sources":["../../../src/lib/webrtc/extension.ts"],"sourcesContent":["// Copyright (C) 2024 Nethesis S.r.l.\n// SPDX-License-Identifier: AGPL-3.0-or-later\n\nimport { getWebrtcExtensions, getExtensionData } from '../user/extensions'\n\n/**\n * Checks if user's webrtc extension hasn't any running conversation\n */\nexport function isWebrtcTotallyFree(): boolean {\n  const webrtcExtension = getWebrtcExtensions()\n  if (webrtcExtension && !Array.isArray(webrtcExtension) && webrtcExtension.id) {\n    const extensionData = getExtensionData(webrtcExtension.id)\n    if (\n      extensionData &&\n      extensionData.conversations &&\n      Object.values(extensionData.conversations).length > 0\n    )\n      return false\n  }\n  return true\n}\n"],"names":["webrtcExtension","getWebrtcExtensions","Array","isArray","id","extensionData","getExtensionData","conversations","Object","values","length"],"mappings":"kJASE,IAAMA,EAAkBC,EAAAA,sBACxB,GAAID,IAAoBE,MAAMC,QAAQH,IAAoBA,EAAgBI,GAAI,CAC5E,IAAMC,EAAgBC,EAAAA,iBAAiBN,EAAgBI,IACvD,GACEC,GACAA,EAAcE,eACdC,OAAOC,OAAOJ,EAAcE,eAAeG,OAAS,EAEpD,OAAO,CACV,CACD,OAAO,CACT"}