"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("../../node_modules/tslib/tslib.es6.js"),t=require("../../store/index.js"),r=require("../storage/local_storage.js"),a=require("../../services/user.js"),s=864e5;exports.AVATARS_EXPIRATION_MILLIS=s,exports.getInitials=function(e){var t=e.split(" ").map((function(e){return e.charAt(0)})).join("");return t.length>3?t.slice(0,2).concat(t.charAt(t.length-1)):t},exports.retrieveAvatars=function(n){return e.__awaiter(this,void 0,void 0,(function(){var i,o,u;return e.__generator(this,(function(e){switch(e.label){case 0:return e.trys.push([0,4,,5]),(i=r.loadCache("operatorsAvatars",n))&&Object.values(i).length>0?(t.store.dispatch.avatars.updateAvatars(i),[3,3]):[3,1];case 1:return[4,a.getAllAvatars()];case 2:(o=e.sent())&&Object.values(o).length>0&&(u=(new Date).getTime()+s,r.saveCache("operatorsAvatars",o,n,u),t.store.dispatch.avatars.updateAvatars(o)),e.label=3;case 3:return[3,5];case 4:return e.sent(),[3,5];case 5:return[2]}}))}))};
//# sourceMappingURL=avatars.js.map
