{"version":3,"file":"DropdownContent.js","sources":["../../../src/components/SwitchInputView/DropdownContent.tsx"],"sourcesContent":["// Copyright (C) 2024 Nethesis S.r.l.\n// SPDX-License-Identifier: AGPL-3.0-or-later\n\nimport React, { type FC, ComponentProps, Fragment, useState, useEffect } from 'react'\nimport { useSelector } from 'react-redux'\nimport { RootState } from '../../store'\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport {\n  faCheck,\n  faEllipsis,\n  faMicrophone,\n  faMoon,\n  faSun,\n  faVolumeHigh,\n} from '@fortawesome/free-solid-svg-icons'\nimport { Menu, MenuButton, MenuItem, MenuItems, Transition } from '@headlessui/react'\nimport { isWebRTC } from '../../lib/user/default_device'\nimport { eventDispatch, getJSONItem, setJSONItem, useEventListener } from '../../utils'\nimport { CustomThemedTooltip } from '../CustomThemedTooltip'\nimport { useTranslation } from 'react-i18next'\n\nconst DropdownContent: FC<DropdownContentProps> = ({ isTransferView }) => {\n  const { sipcall }: any = useSelector((state: RootState) => state.webrtc)\n  const { t } = useTranslation()\n  const remoteAudioElement: any = useSelector((state: RootState) => state.player.remoteAudio)\n\n  const [selectedAudioInput, setSelectedAudioInput] = useState<string | null>(\n    getJSONItem('phone-island-audio-input-device').deviceId || null,\n  )\n  const [selectedAudioOutput, setSelectedAudioOutput] = useState<string | null>(\n    getJSONItem('phone-island-audio-output-device').deviceId || null,\n  )\n\n  const handleClickAudioInput = (audioInputDevice: string) => {\n    setSelectedAudioInput(audioInputDevice)\n\n    if (sipcall.webrtcStuff.myStream) {\n      sipcall?.replaceTracks({\n        tracks: [\n          {\n            type: 'audio',\n            mid: '0', // We assume mid 0 is audio\n            capture: { deviceId: { exact: audioInputDevice } },\n          },\n        ],\n        success: function () {\n          console.info('Audio input device switch success!')\n          // set device to localstorage\n          setJSONItem('phone-island-audio-input-device', { deviceId: audioInputDevice })\n\n          // dispatch event\n          eventDispatch('phone-island-call-audio-input-switched', {})\n        },\n        error: function (err) {\n          console.error('Audio input device switch error:', err)\n        },\n      })\n    } else {\n      // set device to localstorage\n      setJSONItem('phone-island-audio-input-device', { deviceId: audioInputDevice })\n\n      // dispatch event\n      eventDispatch('phone-island-call-audio-input-switched', {})\n    }\n  }\n  useEventListener('phone-island-call-audio-input-switch', (data: DeviceInputOutputTypes) => {\n    handleClickAudioInput(data.deviceId)\n  })\n\n  const handleClickAudioOutput = (audioOutputDevice: string) => {\n    setSelectedAudioOutput(audioOutputDevice)\n\n    remoteAudioElement?.current\n      .setSinkId(audioOutputDevice)\n      .then(function () {\n        console.info('Audio output device switch success!')\n        // set device to localstorage\n        setJSONItem('phone-island-audio-output-device', { deviceId: audioOutputDevice })\n\n        // dispatch event\n        eventDispatch('phone-island-call-audio-output-switched', {})\n      })\n      .catch(function (err) {\n        console.error('Audio output device switch error:', err)\n      })\n  }\n  useEventListener('phone-island-call-audio-output-switch', (data: DeviceInputOutputTypes) => {\n    handleClickAudioOutput(data.deviceId)\n  })\n\n  const [actualDevice, setActualDevice]: any = useState([])\n\n  useEffect(() => {\n    const checkInputOutputDevices = () => {\n      navigator.mediaDevices\n        .enumerateDevices()\n        .then((deviceInfos) => {\n          setActualDevice(deviceInfos)\n        })\n        .catch((error) => {\n          console.error('error', error)\n        })\n    }\n\n    checkInputOutputDevices()\n\n    navigator.mediaDevices.addEventListener('devicechange', checkInputOutputDevices)\n\n    return () => {\n      navigator.mediaDevices.removeEventListener('devicechange', checkInputOutputDevices)\n    }\n  }, [selectedAudioOutput, selectedAudioInput])\n\n  const { theme } = useSelector((state: RootState) => state.darkTheme)\n\n  const handleSelectTheme = (clickedTheme: string) => {\n    eventDispatch('phone-island-theme-change', { selectedTheme: clickedTheme })\n  }\n  const { transferring } = useSelector((state: RootState) => state.currentCall)\n  const { isListen } = useSelector((state: RootState) => state.listen)\n\n  return (\n    <>\n      {isWebRTC() ? (\n        <Menu\n          as='div'\n          className='relative inline-block text-left'\n          data-stop-propagation={true}\n          data-tooltip-id='tooltip-left-settings-devices'\n          data-tooltip-content={t('Tooltip.Settings')}\n        >\n          <MenuButton\n            className='pi-bg-transparent dark:enabled:hover:pi-bg-gray-600/30 enabled:hover:pi-bg-gray-200/70  dark:focus:pi-ring-gray-500 focus:pi-ring-gray-400 pi-flex pi-font-light pi-content-center pi-items-center pi-justify-center pi-tracking-wide pi-duration-200 pi-transform pi-outline-none focus:pi-ring-2 focus:pi-z-20 focus:pi-ring-offset-2 disabled:pi-opacity-75 dark:pi-text-white pi-text-gray-600 pi-border pi-border-transparent focus:pi-ring-offset-gray-200 dark:focus:pi-ring-offset-black pi-rounded-full pi-text-sm pi-leading-4 pi-h-12 pi-w-12 pi-col-start-auto pi-transition-color pi-shrink-0'\n            data-stop-propagation={true}\n          >\n            <FontAwesomeIcon\n              size='xl'\n              icon={faEllipsis}\n              className='dark:pi-text-gray-200 pi-text-gray-700'\n              data-stop-propagation={true}\n            />\n          </MenuButton>\n\n          <Transition\n            as={Fragment}\n            enter='transition ease-out duration-100'\n            enterFrom='transform opacity-0 scale-95'\n            enterTo='transform opacity-100 scale-100'\n            leave='transition ease-in duration-75'\n            leaveFrom='transform opacity-100 scale-100'\n            leaveTo='transform opacity-0 scale-95'\n          >\n            <MenuItems\n              className={`${transferring ? 'pi-right-[1.5rem]' : 'pi-right-[4.5rem]'} \n              ${\n                isListen\n                  ? 'pi-max-h-[9.125rem] pi-mt-[-8.5rem]'\n                  : 'pi-max-h-[13.125rem] pi-mt-[-12.5rem]'\n              }\n               pi-z-50 pi-absolute pi-w-56 pi-origin-top-right pi-rounded-md pi-shadow-lg pi-ring-1 dark:pi-bg-gray-950 pi-bg-gray-50 pi-bg-opacity-[0.99] dark:pi-bg-opacity-[0.99] pi-ring-black pi-ring-opacity-5 pi-focus:outline-none pi-cursor-auto pi-border-gray-300 dark:pi-border-gray-600 pi-border pi-py-2 pi-overflow-y-auto pi-scrollbar-thin pi-scrollbar-thumb-gray-400 pi-dark:scrollbar-thumb-gray-400 pi-scrollbar-thumb-rounded-full pi-scrollbar-thumb-opacity-50 dark:pi-scrollbar-track-gray-900 pi-scrollbar-track-gray-200 pi-dark:scrollbar-track-gray-900 pi-scrollbar-track-rounded-full pi-scrollbar-track-opacity-25`}\n              data-stop-propagation={true}\n            >\n              <div className='' data-stop-propagation={true}>\n                {!isListen && (\n                  <>\n                    {' '}\n                    {/* Microphones */}\n                    <div className='pi-font-semibold dark:pi-text-gray-50 pi-text-gray-600 pi-py-1 pi-px-4'>\n                      {t('DropdownContent.Microphones')}\n                    </div>\n                    {actualDevice\n                      .filter((device) => device?.kind === 'audioinput')\n                      .map((audioDevice, index) => (\n                        <MenuItem key={index}>\n                          {({ active }: any) => (\n                            <div\n                              className={`pi-flex pi-py-2 pi-px-2 ${\n                                active ? 'pi-bg-gray-200 dark:pi-bg-gray-700' : ''\n                              }`}\n                              onClick={() => handleClickAudioInput(audioDevice.deviceId)}\n                              data-stop-propagation={true}\n                            >\n                              {/* faCheck on selectedAudioInput */}\n                              {selectedAudioInput === audioDevice?.deviceId && (\n                                <FontAwesomeIcon\n                                  size='lg'\n                                  icon={faCheck}\n                                  className='pi-text-green-600 dark:pi-text-green-400 pi-mr-2'\n                                />\n                              )}\n\n                              {/* faCheck if user has no selectedAudioInput and audioDevice is default */}\n                              {!selectedAudioInput && audioDevice?.deviceId === 'default' && (\n                                <FontAwesomeIcon\n                                  size='lg'\n                                  icon={faCheck}\n                                  className='pi-text-green-600 dark:pi-text-green-400 pi-mr-2'\n                                />\n                              )}\n\n                              <FontAwesomeIcon\n                                size='lg'\n                                icon={faMicrophone}\n                                className={`${\n                                  selectedAudioInput !== null &&\n                                  selectedAudioInput !== '' &&\n                                  selectedAudioInput !== audioDevice?.deviceId\n                                    ? 'pi-ml-6'\n                                    : selectedAudioInput !== '' &&\n                                      selectedAudioInput !== null &&\n                                      selectedAudioInput === audioDevice?.deviceId\n                                    ? ''\n                                    : selectedAudioInput === null &&\n                                      audioDevice?.deviceId !== 'default'\n                                    ? 'pi-ml-6'\n                                    : ''\n                                } dark:pi-text-gray-100 pi-text-gray-600 pi-mr-1`}\n                              />\n                              <div\n                                className={`${\n                                  active\n                                    ? 'dark:pi-text-gray-50 pi-text-gray-900'\n                                    : 'dark:pi-text-gray-50 pi-text-gray-700'\n                                }`}\n                              >\n                                {audioDevice?.label || `Input device ${index + 1}`}\n                              </div>\n                            </div>\n                          )}\n                        </MenuItem>\n                      ))}\n                    {/* Divider  */}\n                    <div className='pi-relative pi-py-2'>\n                      <div\n                        className='pi-absolute pi-inset-0 pi-flex pi-items-center'\n                        aria-hidden='true'\n                      >\n                        <div className='pi-w-full pi-border-t pi-border-gray-400 dark:pi-border-gray-600' />\n                      </div>\n                    </div>\n                  </>\n                )}\n\n                {/* Speaker */}\n                <div\n                  className='pi-font-semibold dark:pi-text-gray-50 pi-text-gray-600 pi-py-1 pi-px-4'\n                  data-stop-propagation={true}\n                >\n                  {t('DropdownContent.Speakers')}\n                </div>\n                {actualDevice\n                  .filter((device) => device?.kind === 'audiooutput')\n                  .map((audioDevice, index) => (\n                    <MenuItem key={index}>\n                      {({ active }: any) => (\n                        <div\n                          className={`pi-flex pi-py-2 pi-px-2 ${\n                            active ? 'pi-bg-gray-200 dark:pi-bg-gray-700' : ''\n                          }`}\n                          onClick={() => handleClickAudioOutput(audioDevice?.deviceId)}\n                          data-stop-propagation={true}\n                        >\n                          {/* faCheck on selectedAudioOutput */}\n                          {selectedAudioOutput === audioDevice?.deviceId && (\n                            <FontAwesomeIcon\n                              size='lg'\n                              icon={faCheck}\n                              className='pi-text-green-600 dark:pi-text-green-400 pi-mr-2'\n                            />\n                          )}\n\n                          {/* faCheck if user has no selectedAudioInput and audioDevice is default */}\n                          {!selectedAudioOutput && audioDevice?.deviceId === 'default' && (\n                            <FontAwesomeIcon\n                              size='lg'\n                              icon={faCheck}\n                              className='pi-text-green-600 dark:pi-text-green-400 pi-mr-2'\n                            />\n                          )}\n\n                          <FontAwesomeIcon\n                            size='lg'\n                            icon={faVolumeHigh}\n                            className={`${\n                              selectedAudioOutput !== null &&\n                              selectedAudioOutput !== '' &&\n                              selectedAudioOutput !== audioDevice?.deviceId\n                                ? 'pi-ml-6'\n                                : selectedAudioOutput !== '' &&\n                                  selectedAudioOutput !== null &&\n                                  selectedAudioOutput === audioDevice?.deviceId\n                                ? ''\n                                : selectedAudioOutput === null &&\n                                  audioDevice?.deviceId !== 'default'\n                                ? 'pi-ml-6'\n                                : ''\n                            } dark:pi-text-gray-100 pi-text-gray-600 pi-mr-1`}\n                          />\n\n                          <div\n                            className={`${\n                              active\n                                ? 'dark:pi-text-gray-50 pi-text-gray-900'\n                                : 'dark:pi-text-gray-50 pi-text-gray-700'\n                            }`}\n                          >\n                            {audioDevice?.label || `Output device ${index + 1}`}\n                          </div>\n                        </div>\n                      )}\n                    </MenuItem>\n                  ))}\n                {/* Divider  */}\n                <div className='pi-relative pi-py-2'>\n                  <div\n                    className='pi-absolute pi-inset-0 pi-flex pi-items-center'\n                    aria-hidden='true'\n                  >\n                    <div className='pi-w-full pi-border-t pi-border-gray-400 dark:pi-border-gray-600' />\n                  </div>\n                </div>\n                {/* theme selection */}\n                <div\n                  className='pi-font-semibold dark:pi-text-gray-50 pi-text-gray-600 pi-py-1 pi-px-4'\n                  data-stop-propagation={true}\n                >\n                  {t('DropdownContent.Theme')}\n                </div>\n\n                {/* dark theme  */}\n                <div\n                  className={`pi-flex pi-py-2 pi-px-2 dark:hover:pi-text-gray-50 hover:pi-text-gray-900 dark:pi-text-gray-50 pi-text-gray-700 hover:pi-bg-gray-200 dark:hover:pi-bg-gray-700`}\n                  onClick={() => handleSelectTheme('dark')}\n                  data-stop-propagation={true}\n                >\n                  {theme === 'dark' && (\n                    <FontAwesomeIcon\n                      size='lg'\n                      icon={faCheck}\n                      className='pi-text-green-600 dark:pi-text-green-400 pi-mr-[0.57rem]'\n                    />\n                  )}\n                  <FontAwesomeIcon\n                    size='lg'\n                    icon={faMoon}\n                    className={`${\n                      theme !== 'dark' ? 'pi-ml-[1.49rem] pi-mr-[0.42rem]' : 'pi-mr-[0.4rem]'\n                    } dark:pi-text-gray-100 pi-text-gray-600 `}\n                  />\n\n                  <div>{t('DropdownContent.Dark')}</div>\n                </div>\n\n                {/* light theme  */}\n                <div\n                  className={`pi-flex pi-py-2 pi-px-2 dark:hover:pi-text-gray-50 hover:pi-text-gray-900 dark:pi-text-gray-50 pi-text-gray-700 hover:pi-bg-gray-200 dark:hover:pi-bg-gray-700`}\n                  onClick={() => handleSelectTheme('light')}\n                  data-stop-propagation={true}\n                >\n                  {theme === 'light' && (\n                    <FontAwesomeIcon\n                      size='lg'\n                      icon={faCheck}\n                      className='pi-text-green-600 dark:pi-text-green-400 pi-mr-[0.4rem]'\n                    />\n                  )}\n\n                  <FontAwesomeIcon\n                    size='lg'\n                    icon={faSun}\n                    className={`${\n                      theme !== 'light' ? 'pi-ml-[1.4rem] pi-mr-[0.27rem]' : 'pi-mr-[0.28rem]'\n                    } dark:pi-text-gray-100 pi-text-gray-600 `}\n                  />\n                  <div>{t('DropdownContent.Light')}</div>\n                </div>\n\n                {/* Video\n              <div className='pi-font-semibold pi-text-gray-700 pi-py-1 pi-px-4'>\n                Video\n              </div>\n              {actualDevice\n                .filter((device) => device.kind === 'videoinput')\n                .map((videoDevice, index) => (\n                  <MenuItem key={index}>\n                    {({ active }) => (\n                      <div className='pi-text-gray-700'>\n                        Webcam: {videoDevice.label || `Device ${index + 1}`}\n                      </div>\n                    )}\n                  </MenuItem>\n                ))}*/}\n              </div>\n            </MenuItems>\n          </Transition>\n        </Menu>\n      ) : (\n        <div></div>\n      )}\n      <CustomThemedTooltip id='tooltip-left-settings-devices' place='left' />\n    </>\n  )\n}\n\ninterface DropdownContentProps extends ComponentProps<'div'> {\n  isTransferView?: boolean\n}\n\ninterface DeviceInputOutputTypes {\n  deviceId: string\n}\n\nexport default DropdownContent\n"],"names":["_a","isTransferView","sipcall","useSelector","state","webrtc","t","useTranslation","remoteAudioElement","player","remoteAudio","_b","useState","getJSONItem","deviceId","selectedAudioInput","setSelectedAudioInput","_c","selectedAudioOutput","setSelectedAudioOutput","handleClickAudioInput","audioInputDevice","webrtcStuff","myStream","replaceTracks","tracks","type","mid","capture","exact","success","console","info","setJSONItem","eventDispatch","error","err","useEventListener","data","handleClickAudioOutput","audioOutputDevice","current","setSinkId","then","catch","_d","actualDevice","setActualDevice","useEffect","checkInputOutputDevices","navigator","mediaDevices","enumerateDevices","deviceInfos","addEventListener","removeEventListener","theme","darkTheme","handleSelectTheme","clickedTheme","selectedTheme","transferring","currentCall","isListen","listen","React","createElement","Fragment","isWebRTC","Menu","as","className","MenuButton","FontAwesomeIcon","size","icon","faEllipsis","Transition","enter","enterFrom","enterTo","leave","leaveFrom","leaveTo","MenuItems","filter","device","kind","map","audioDevice","index","MenuItem","key","active","concat","onClick","faCheck","faMicrophone","label","faVolumeHigh","faMoon","faSun","CustomThemedTooltip","id","place"],"mappings":"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"}