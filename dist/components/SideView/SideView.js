"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("../../node_modules/tslib/tslib.es6.js"),t=require("react");require("../../node_modules/react-redux/es/index.js");var i=require("../../node_modules/@fortawesome/free-solid-svg-icons/index.mjs.js"),o=require("../../node_modules/@nethesis/nethesis-solid-svg-icons/index.mjs.js");require("../../node_modules/@babel/runtime/helpers/defineProperty.js"),require("../../node_modules/@babel/runtime/helpers/objectWithoutProperties.js"),require("../../node_modules/@babel/runtime/helpers/typeof.js"),require("../../node_modules/html-parse-stringify/dist/html-parse-stringify.js"),require("../../node_modules/react-i18next/dist/es/context.js");var r=require("../../node_modules/react-i18next/dist/es/useTranslation.js");require("../../node_modules/@babel/runtime/helpers/slicedToArray.js");var n=require("../../lib/phone/call.js"),l=require("../CustomThemedTooltip.js"),s=require("./hooks/useSideViewLogic.js"),a=require("./components/SideViewButton.js"),d=require("../../node_modules/framer-motion/dist/es/components/AnimatePresence/index.mjs.js"),u=require("../../node_modules/framer-motion/dist/es/render/components/motion/proxy.mjs.js"),c=require("../../node_modules/react-redux/es/hooks/useSelector.js");function p(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var m=p(t),f={initial:{x:-76},animate:{x:4,transition:{duration:.1,ease:"easeOut"}},exit:{x:-76,transition:{duration:.1,ease:"easeIn"}}},h={borderTopRightRadius:"20px",borderBottomRightRadius:"20px",width:"80px",transformOrigin:"right"},b=t.memo((function(p){var b=p.isVisible,v=p.uaType,x=c.useSelector((function(e){return e.island})).isOpen,T=c.useSelector((function(e){return e.currentCall})).isRecording,g=r.useTranslation().t,j=s.useSideViewLogic(v),y=j.videoInputDevices,C=j.isVideoCallButtonVisible,S=j.canRecord,_=j.canShareScreen,k=j.canSwitchDevice,q=j.isUrlButtonEnabled,w=j.hasValidUrl,E=j.goToVideoCall,V=j.goToScreenSharing,R=j.closeSideViewAndLaunchEvent,I=t.useCallback((function(){n.recordCurrentCall(T)}),[T]),A=t.useMemo((function(){return[S&&{key:"record",active:T,onClick:I,tooltipId:"tooltip-record",tooltipContent:T?g("Tooltip.Stop recording")||"":g("Tooltip.Record")||"",icon:T?i.faStop:o.faRecord},(null==y?void 0:y.length)>0&&{key:"video",onClick:E,tooltipId:"tooltip-video",tooltipContent:C?g("Tooltip.Enable camera")||"":g("Tooltip.Enable camera permission")||"",disabled:!C,icon:C?i.faVideo:i.faVideoSlash},_&&{key:"screen-share",onClick:V,tooltipId:"tooltip-screen-share",tooltipContent:g("Tooltip.Share screen")||"",icon:i.faDisplay},w&&q&&{key:"url",onClick:function(){return R("openUrl")},tooltipId:"tooltip-open-url",tooltipContent:g("Tooltip.Open url")||"",icon:i.faArrowUpRightFromSquare},k&&{key:"switch-device",onClick:function(){return R("switchDevice")},tooltipId:"tooltip-switch-device",tooltipContent:g("Tooltip.Switch device")||"",icon:o.faArrowsRepeat}].filter((function(e){return Boolean(e)}))}),[S,T,I,g,null==y?void 0:y.length,E,C,_,V,w,q,R,k]),B=t.useMemo((function(){return"pi-absolute pi-h-full pi-bg-surfaceSidebar dark:pi-bg-surfaceSidebarDark pi-flex pi-flex-col pi-items-center pi-text-iconWhite dark:pi-text-iconWhiteDark -pi-mr-10 pi-right-0 -pi-z-10 pi-pointer-events-auto ".concat(x?"pi-py-6":"pi-py-4")}),[x]);return m.default.createElement(m.default.Fragment,null,m.default.createElement(d.AnimatePresence,null,b&&m.default.createElement(u.motion.div,e.__assign({className:B,style:h},f),m.default.createElement("div",{className:"pi-flex pi-flex-col pi-items-center pi-gap-3.5 pi-flex-1 pi-ml-9"},A.map((function(t){var i=t.key,o=e.__rest(t,["key"]);return m.default.createElement(a.SideViewButton,e.__assign({key:i},o))}))))),m.default.createElement(l.CustomThemedTooltip,{id:"tooltip-record",place:"left"}),m.default.createElement(l.CustomThemedTooltip,{id:"tooltip-video",place:"left"}),m.default.createElement(l.CustomThemedTooltip,{id:"tooltip-screen-share",place:"left"}),m.default.createElement(l.CustomThemedTooltip,{id:"tooltip-switch-device",place:"left"}),m.default.createElement(l.CustomThemedTooltip,{id:"tooltip-open-url",place:"left"}))}));b.displayName="SideView",exports.default=b;
//# sourceMappingURL=SideView.js.map
