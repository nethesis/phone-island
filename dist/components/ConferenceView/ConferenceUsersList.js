"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("react");require("../../node_modules/react-redux/es/index.js");var t=require("../../node_modules/@fortawesome/react-fontawesome/index.es.js"),r=require("../../node_modules/@fortawesome/free-solid-svg-icons/index.mjs.js"),n=require("../Button.js");require("../../node_modules/@babel/runtime/helpers/defineProperty.js"),require("../../node_modules/@babel/runtime/helpers/objectWithoutProperties.js"),require("../../node_modules/@babel/runtime/helpers/typeof.js"),require("../../node_modules/html-parse-stringify/dist/html-parse-stringify.js"),require("../../node_modules/react-i18next/dist/es/context.js");var i=require("../../node_modules/react-i18next/dist/es/useTranslation.js");require("../../node_modules/@babel/runtime/helpers/slicedToArray.js");var a=require("../CustomThemedTooltip.js"),l=require("../CallView/Timer.js"),o=require("../../lib/phone/call.js"),u=require("../../node_modules/react-redux/es/hooks/useSelector.js"),s=require("../../node_modules/react-redux/es/hooks/useDispatch.js");function c(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var d=c(e),p=function(e){var c,p,m=u.useSelector((function(e){return e.conference})).usersList,f=u.useSelector((function(e){return e.conference})),v=f.isOwnerInside,x=f.conferenceId,h=s.useDispatch(),b=u.useSelector((function(e){return e.avatars})).avatars,g=u.useSelector((function(e){return e.users})).extensions,y=i.useTranslation().t,j=function(e){var t;return e&&b&&g&&(null===(t=g[e])||void 0===t?void 0:t.username)&&b[g[e].username]?"".concat(b[g[e].username]):null},k=function(e){var t,r,n=e.user;return d.default.createElement("div",{className:"pi-inline-flex pi-items-center pi-justify-center pi-w-8 pi-h-8 pi-rounded-full pi-bg-gray-500"},j(n.extenId)?d.default.createElement("div",{className:"pi-rounded-full pi-w-8 pi-h-8",style:{backgroundImage:"url(".concat(j(null==n?void 0:n.extenId),")"),backgroundRepeat:"no-repeat",backgroundSize:"contain",backgroundPosition:"center"}}):d.default.createElement("span",{className:"pi-text-sm pi-font-medium pi-text-white"},(t=null==n?void 0:n.name,r=null==n?void 0:n.extenId,t?t.split(" ").map((function(e){return e[0]})).join("").toUpperCase().slice(0,2):r?r.substring(0,2).toUpperCase():"??")))};return d.default.createElement(d.default.Fragment,null,d.default.createElement("div",{className:"".concat(v?"":"pi-space-y-1"," pi-flex pi-flex-col pi-mt-2 pi-h-32 pi-overflow-y-auto pi-scrollbar-thin pi-scrollbar-thumb-gray-400 pi-dark:scrollbar-thumb-gray-400 pi-scrollbar-thumb-rounded-full pi-scrollbar-thumb-opacity-50 dark:pi-scrollbar-track-gray-900 pi-scrollbar-track-gray-200 pi-dark:scrollbar-track-gray-900 pi-scrollbar-track-rounded-full pi-scrollbar-track-opacity-25")},m&&Object.values(m).filter((function(e){return!(null==e?void 0:e.owner)})).length>0?null===(p=null===(c=null==Object?void 0:Object.values(m))||void 0===c?void 0:c.filter((function(e){return!(null==e?void 0:e.owner)})))||void 0===p?void 0:p.map((function(e){return d.default.createElement("div",{key:"".concat(null==e?void 0:e.id,"-").concat(null==e?void 0:e.extenId),className:"".concat(v?"":"pi-py-1"," pi-flex pi-items-center pi-justify-between pi-px-3 pi-rounded-lg")},d.default.createElement("div",{className:"pi-flex pi-items-center pi-gap-3 pi-truncate"},d.default.createElement(k,{user:e}),d.default.createElement("span",{className:"pi-font-medium pi-text-sm pi-text-gray-700 dark:pi-text-gray-200 pi-truncate pi-w-32"},(null==e?void 0:e.name)||(null==e?void 0:e.extenId))),v?d.default.createElement(d.default.Fragment,null,d.default.createElement(n.Button,{variant:"transparent","data-tooltip-id":"conference-user-mute","data-tooltip-content":(null==e?void 0:e.muted)?y("Conference.Unmute participant"):y("Conference.Mute participant"),onClick:function(){return t=null==e?void 0:e.id,r=null==e?void 0:e.extenId,n=null==e?void 0:e.muted,h.conference.toggleUserMuted({extenId:r}),void o.muteUserConference(x,t,n);var t,r,n}},d.default.createElement(t.FontAwesomeIcon,{className:"pi-h-4 pi-w-4 ".concat((null==e?void 0:e.muted)?"pi-text-red-500":"pi-text-gray-600 dark:pi-text-gray-300"),icon:(null==e?void 0:e.muted)?r.faMicrophoneSlash:r.faMicrophone})),d.default.createElement(n.Button,{variant:"transparent","data-tooltip-id":"conference-user-remove","data-tooltip-content":y("Conference.Remove participant"),onClick:function(){return t=null==e?void 0:e.extenId,void o.removeUserConference(x,t);var t}},d.default.createElement(t.FontAwesomeIcon,{className:"pi-h-4 pi-w-4 pi-text-gray-600 dark:pi-text-gray-300",icon:r.faTrash}))):d.default.createElement(d.default.Fragment,null,d.default.createElement(t.FontAwesomeIcon,{className:"pi-h-5 pi-w-5 pi-text-gray-600 dark:pi-text-gray-300",icon:e.muted?r.faMicrophoneSlash:r.faPause}),d.default.createElement(l.default,{size:"small",startTime:String(null===Math||void 0===Math?void 0:Math.floor(null!==(null==e?void 0:e.joinTime)&&(null==e?void 0:e.joinTime)?(null==e?void 0:e.joinTime)/1e3:0)),isNotAlwaysWhite:!0,isInsideConference:!0})))})):d.default.createElement("div",{className:"pi-flex pi-flex-col pi-justify-center pi-items-center pi-h-20 pi-text-gray-500 dark:pi-text-gray-400"},d.default.createElement("span",null,y("Conference.No participants")),d.default.createElement("span",{className:"pi-text-xs pi-mt-1"},y("Conference.Add participants to conference")))),d.default.createElement(a.CustomThemedTooltip,{className:"pi-z-1000",id:"conference-user-remove",place:"left"}),d.default.createElement(a.CustomThemedTooltip,{className:"pi-z-1000",id:"conference-user-mute",place:"left"}))};exports.ConferenceUsersList=p,exports.default=p;
//# sourceMappingURL=ConferenceUsersList.js.map
