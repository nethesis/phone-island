"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("react");require("../../node_modules/react-redux/es/index.js"),require("../../node_modules/@babel/runtime/helpers/defineProperty.js"),require("../../node_modules/@babel/runtime/helpers/objectWithoutProperties.js"),require("../../node_modules/@babel/runtime/helpers/typeof.js"),require("../../node_modules/html-parse-stringify/dist/html-parse-stringify.js"),require("../../node_modules/react-i18next/dist/es/context.js");var t=require("../../node_modules/react-i18next/dist/es/useTranslation.js");require("../../node_modules/@babel/runtime/helpers/slicedToArray.js");var n=require("../Hangup.js"),a=require("./ConferenceUsersList.js"),r=require("../Button.js"),i=require("../../node_modules/@fortawesome/react-fontawesome/index.es.js"),l=require("../../node_modules/@fortawesome/free-solid-svg-icons/index.mjs.js"),o=require("../../utils/genericFunctions/eventDispatch.js");require("../../store/index.js");var s=require("../CallView/Timer.js"),c=require("../../lib/phone/call.js"),u=require("../CustomThemedTooltip.js"),d=require("../AudioBars.js"),f=require("../AvatarGroup.js"),m=require("../../node_modules/react-redux/es/hooks/useSelector.js"),p=require("../../node_modules/react-redux/es/hooks/useDispatch.js");function h(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var v=h(e);exports.WaitingConferenceView=function(){var e=m.useSelector((function(e){return e.conference})),h=e.isOwnerInside,j=e.isConferenceMuted,w=e.conferenceStartTime,E=e.conferenceId,g=e.usersList,C=m.useSelector((function(e){return e.island})),x=C.view,q=C.sideViewIsVisible,b=C.isOpen,N=m.useSelector((function(e){return e.webrtc})).remoteAudioStream,A=m.useSelector((function(e){return e.currentCall})).paused,T=t.useTranslation().t,y=p.useDispatch(),I=function(){y.island.toggleConferenceList(!0),y.island.setIslandView("transfer"!==x?"transfer":"call"),q&&o.eventDispatch("phone-island-sideview-close",{}),o.eventDispatch("phone-island-call-conference-list-opened",{})};return v.default.createElement(v.default.Fragment,null,b?v.default.createElement(v.default.Fragment,null,v.default.createElement("div",{className:"pi-flex pi-flex-col pi-w-full"},v.default.createElement("div",{className:"pi-flex pi-items-center pi-justify-between pi-text-gray-900 dark:pi-text-gray-50"},v.default.createElement("h1",{className:"pi-text-lg pi-font-medium pi-leading-7 pi-w-full"},T(h?"Conference.Conference":"Conference.Waiting for the conference")),h&&v.default.createElement(s.default,{size:"small",startTime:String(null===Math||void 0===Math?void 0:Math.floor(w/1e3)),isNotAlwaysWhite:!0,isInsideConference:!0})),v.default.createElement(a.ConferenceUsersList,null),v.default.createElement("div",{className:"pi-flex pi-justify-center pi-space-x-6 pi-mt-4"},h?v.default.createElement(v.default.Fragment,null,v.default.createElement(r.Button,{variant:"default",active:!!j,onClick:function(){E&&(c.muteAllUsersConference(E,j),y.conference.toggleIsConferenceMuted(!j))},"data-tooltip-id":"tooltip-all-user-muted","data-tooltip-content":"".concat(T(j?"Conference.Unmute all participants":"Conference.Mute all participants"))},j?v.default.createElement(i.FontAwesomeIcon,{className:"pi-h-6 pi-w-6",icon:l.faMicrophoneSlash}):v.default.createElement(i.FontAwesomeIcon,{className:"pi-h-6 pi-w-6",icon:l.faMicrophone})),v.default.createElement(r.Button,{"data-stop-propagation":!0,variant:"default",onClick:function(){return I()},"data-tooltip-id":"tooltip-add-user-to-conference","data-tooltip-content":T("Conference.Add participant")||""},v.default.createElement(i.FontAwesomeIcon,{icon:l.faUserPlus,className:"pi-h-6 pi-w-6"}))):v.default.createElement(v.default.Fragment,null,v.default.createElement(r.Button,{variant:"default",className:"pi-w-52 pi-font-medium pi-leading-5",conference:!0,onClick:function(){return y.conference.toggleIsOwnerInside(!0),void setTimeout((function(){c.joinConference()}),800)}},v.default.createElement(i.FontAwesomeIcon,{icon:l.faArrowRightToBracket,className:"pi-mr-3"}),T("Conference.Start conference")),v.default.createElement(r.Button,{variant:"default",conference:!0,onClick:function(){return I()},"data-tooltip-id":"tooltip-add-user-to-conference-before-started","data-tooltip-content":T("Conference.Add participant")||"",className:"pi-font-medium"},v.default.createElement(i.FontAwesomeIcon,{icon:l.faUserPlus}))))),v.default.createElement("div",{className:"pi-absolute pi-bottom-4 pi-right-0 pi-w-full pi-pb-2"},v.default.createElement(n.default,null)),v.default.createElement(u.CustomThemedTooltip,{className:"pi-z-1000",id:"tooltip-add-user-to-conference",place:"top"}),v.default.createElement(u.CustomThemedTooltip,{className:"pi-z-1000",id:"tooltip-add-user-to-conference-before-started",place:"left"}),v.default.createElement(u.CustomThemedTooltip,{className:"pi-z-1000",id:"tooltip-all-user-muted",place:"top"})):v.default.createElement("div",{className:"pi-flex-col"},v.default.createElement("div",{className:"pi-flex pi-items-center pi-justify-between pi-space-x-1"},v.default.createElement(i.FontAwesomeIcon,{icon:l.faUsers,className:"pi-h-4 pi-w-4"}),v.default.createElement(s.default,{size:"small",startTime:String(null===Math||void 0===Math?void 0:Math.floor(w/1e3)),isNotAlwaysWhite:!0,isInsideConference:!0}),v.default.createElement(d.AudioBars,{audioStream:N,paused:A,size:b?"large":"small"})),v.default.createElement("div",{className:"pi-flex pi-justify-center pi-items-center pi-pt-1"},v.default.createElement(f.default,{usersList:g||{},maxAvatars:5}))))};
//# sourceMappingURL=index.js.map
