"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("react"),t=require("./Button.js"),i=require("../node_modules/@fortawesome/react-fontawesome/index.es.js"),n=require("../node_modules/@fortawesome/free-solid-svg-icons/index.mjs.js"),o=require("../lib/phone/call.js");require("../node_modules/react-redux/es/index.js"),require("../node_modules/@babel/runtime/helpers/defineProperty.js"),require("../node_modules/@babel/runtime/helpers/objectWithoutProperties.js"),require("../node_modules/@babel/runtime/helpers/typeof.js"),require("../node_modules/html-parse-stringify/dist/html-parse-stringify.js"),require("../node_modules/react-i18next/dist/es/context.js");var s=require("../node_modules/react-i18next/dist/es/useTranslation.js");require("../node_modules/@babel/runtime/helpers/slicedToArray.js");var a=require("../utils/genericFunctions/eventDispatch.js");require("../store/index.js");var l=require("./CustomThemedTooltip.js"),r=require("../node_modules/framer-motion/dist/es/render/components/motion/proxy.mjs.js"),c=require("../node_modules/react-redux/es/hooks/useSelector.js"),p=require("../node_modules/react-redux/es/hooks/useDispatch.js");function u(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var d=u(e);exports.default=function(e){e.clickCallback,e.isDestination;var u=e.description,m=e.isPhysicalRecording,f=e.buttonsVariant,h=void 0===f?"transparent":f,g=e.showFullscreenButton,w=void 0!==g&&g,v=e.isExtraLarge,T=void 0!==v&&v,j=e.onToggleExtraLarge,C=c.useSelector((function(e){return e.currentCall})),x=C.transferring,E=C.incoming,q=C.accepted,N=p.useDispatch(),b=c.useSelector((function(e){return e.island})),y=b.isOpen,_=b.sideViewIsVisible,D=b.view,A=c.useSelector((function(e){return e.conference})),F=A.isActive,I=A.conferenceStartedFrom,k=c.useSelector((function(e){return e.currentUser})).username;function S(){E?o.hangupAllExtensions():o.hangupCurrentCall(),setTimeout((function(){N.listen.setUpdateIntrudeStatus(!1,""),N.listen.setUpdateListenStatus(!1,"")}),2e3),x&&setTimeout((function(){N.alerts.setAlert("call_transfered"),a.eventDispatch("phone-island-call-transfer-successfully-popup-open",{}),setTimeout((function(){N.alerts.removeAlert("call_transfered"),a.eventDispatch("phone-island-call-transfer-successfully-popup-close",{})}),2e3)}),300)}var B=s.useTranslation().t;return d.default.createElement(d.default.Fragment,null,d.default.createElement("div",{className:" ".concat(x?"pi-grid pi-w-full pi-space-x-2 pi-justify-start":"pi-flex pi-justify-center")},d.default.createElement(r.motion.div,{className:"".concat(x&&u?"pi-grid pi-grid-cols-4 pi-ml-4 pi-justify-start":"pi-flex pi-w-12"," ")},(y&&q||"waitingConference"===D&&y)&&!w&&d.default.createElement("div",{className:"pi-grid pi-grid-cols-1"},d.default.createElement(t.Button,{variant:h,onClick:function(){return N.island.handleToggleIsOpen()},"data-tooltip-id":"tooltip-open-close-phone-island","data-tooltip-content":y?B("Tooltip.Collapse")||"":B("Tooltip.Open")||"",className:"".concat(x&&u?"":"pi--ml-28")},d.default.createElement(i.FontAwesomeIcon,{icon:n.faDownLeftAndUpRightToCenter,className:"pi-w-6 pi-h-6"}))),(y&&q||"waitingConference"===D&&y)&&w&&d.default.createElement("div",{className:"pi-grid pi-grid-cols-1"},d.default.createElement(t.Button,{variant:h,onClick:j,"data-tooltip-id":"tooltip-toggle-fullscreen-hangup","data-tooltip-content":B("streamingAnswer"===D?T?"Tooltip.Decrease":"Tooltip.Increase":"Tooltip.Toggle fullscreen"),className:"".concat(x&&u?"":"pi--ml-28")},d.default.createElement(i.FontAwesomeIcon,{className:"pi-h-6 pi-w-6",icon:T?n.faDownLeftAndUpRightToCenter:n.faUpRightAndDownLeftFromCenter}))),d.default.createElement(t.Button,{onClick:function(){m?(a.eventDispatch("phone-island-sideview-close",{}),o.hangupCurrentPhysicalRecording()):F&&I===k&&"waitingConference"===D?(a.eventDispatch("phone-island-sideview-close",{}),o.endConference()):(a.eventDispatch("phone-island-sideview-close",{}),S())},variant:"red",className:"".concat(x&&u?"pi-gap-4 pi-font-medium pi-text-base pi-transition pi-min-w-12 pi-w-full pi-col-span-2":"pi-gap-4 pi-font-medium pi-text-base pi-transition pi-min-w-12 pi-w-full"),"data-tooltip-id":u&&x||"waitingConference"===D&&F?"tooltip-top-transfer":"tooltip-left-transfer","data-tooltip-content":u&&x?u:"waitingConference"===D&&F?B("Conference.End conference"):"".concat(B("Tooltip.Hangup"))},d.default.createElement(i.FontAwesomeIcon,{className:"pi-rotate-135 pi-h-6 pi-w-6",icon:n.faPhone}),x&&u&&d.default.createElement(r.motion.div,{style:{height:"17px"},className:"pi-whitespace-nowrap pi-overflow-hidden"},u)),(y&&q||"waitingConference"===D&&y)&&d.default.createElement(t.Button,{variant:h,onClick:function(){return _&&a.eventDispatch("phone-island-sideview-close",{}),void N.island.setIslandView("settings")},"data-tooltip-id":"tooltip-settings-view","data-tooltip-content":B("Tooltip.Go to settings")||"",className:"".concat(x&&u?"pi-ml-5":"pi-justify-end pi-ml-16"," pi-flex pi-items-center")},d.default.createElement(i.FontAwesomeIcon,{icon:n.faGear,className:"pi-h-6 pi-w-6"})))),d.default.createElement(l.CustomThemedTooltip,{className:"pi-z-20",id:"tooltip-left-transfer",place:"left"}),d.default.createElement(l.CustomThemedTooltip,{className:"pi-z-20",id:"tooltip-top-transfer",place:"top"}),d.default.createElement(l.CustomThemedTooltip,{className:"pi-z-20",id:"tooltip-open-close-phone-island",place:"right"}),d.default.createElement(l.CustomThemedTooltip,{className:"pi-z-20",id:"tooltip-settings-view",place:"left"}),d.default.createElement(l.CustomThemedTooltip,{className:"pi-z-20",id:"tooltip-toggle-fullscreen-hangup",place:"top"}))};
//# sourceMappingURL=Hangup.js.map
