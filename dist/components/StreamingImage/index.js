"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("react");require("../../node_modules/react-redux/es/index.js");var r=require("../../utils/streaming/getStreamingSourceId.js"),t=require("../VideoStreamingSkeleton/index.js"),i=require("../../node_modules/react-redux/es/hooks/useSelector.js");function n(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var u=n(e),a=e.memo((function(){var n=i.useSelector((function(e){return e.currentCall.streamingSourceNumber})),a=i.useSelector((function(e){return e.island.isFromStreaming})),o=i.useSelector((function(e){return e.streaming.sourceImages})),l=i.useSelector((function(e){return e.streaming.videoSources})),c=e.useState(0),s=c[0],d=c[1],f=e.useState(!1),m=f[0],p=f[1],v=n?r.getStreamingSourceId(n):void 0,g=n&&l?Object.values(l).find((function(e){return e.extension===n})):null,S=v?o[v]||(null==g?void 0:g.image):null;return e.useEffect((function(){var e=setInterval((function(){d((function(e){return e+1}))}),500);return function(){return clearInterval(e)}}),[]),e.useEffect((function(){S&&p(!1)}),[S]),a&&n?S?u.default.createElement("div",{className:"pi-mt-4 pi-w-[28.2rem] pi-flex pi-justify-center"},u.default.createElement("div",{className:"pi-relative pi-h-[10.5rem] pi-w-[110rem] pi-overflow-hidden pi-rounded-lg pi-border pi-border-gray-300 dark:pi-border-gray-700"},!m&&u.default.createElement(t.default,{className:"pi-absolute pi-inset-0 pi-w-full pi-h-full"}),u.default.createElement("img",{key:s,src:S,alt:"Streaming view",className:"pi-w-full pi-h-full pi-object-cover pi-transition-opacity pi-duration-300 ".concat(m?"pi-opacity-100":"pi-opacity-0"),onLoad:function(){return p(!0)},onError:function(){return p(!1)}}))):u.default.createElement(t.default,{className:"pi-w-[28.2rem] pi-h-[10.5rem] pi-mt-4"}):null}));exports.default=a;
//# sourceMappingURL=index.js.map
