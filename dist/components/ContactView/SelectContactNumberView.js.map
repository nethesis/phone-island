{"version":3,"file":"SelectContactNumberView.js","sources":["../../../src/components/ContactView/SelectContactNumberView.tsx"],"sourcesContent":["// Copyright (C) 2025 Nethesis S.r.l.\n// SPDX-License-Identifier: AGPL-3.0-or-later\n\nimport React, { type FC, useMemo } from 'react'\nimport { Button } from '../Button'\nimport { useDispatch } from 'react-redux'\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faPhone, faArrowLeft, faMobile, faHeadset } from '@fortawesome/free-solid-svg-icons'\nimport { clickTransferOrConference, isInsideConferenceList } from '../../lib/phone/call'\nimport { Dispatch } from '../../store'\nimport { useTranslation } from 'react-i18next'\nimport { CustomThemedTooltip } from '../CustomThemedTooltip'\nimport { PhonebookContact } from '../../types/phonebook'\nimport { faOfficePhone } from '@nethesis/nethesis-solid-svg-icons'\n\nexport const SelectContactNumberView: FC<SelectContactNumberViewProps> = ({ contact }) => {\n  const dispatch = useDispatch<Dispatch>()\n  const { t } = useTranslation()\n\n  type PhoneNumber = {\n    number: string\n    type: string\n  }\n\n  const phoneNumbers = useMemo(() => {\n    const phoneNumbers: PhoneNumber[] = []\n\n    const phoneTypes = ['extension', 'workphone', 'cellphone']\n\n    for (const type of phoneTypes) {\n      const phoneNumber = contact?.[type]\n      if (phoneNumber) {\n        phoneNumbers.push({\n          number: phoneNumber,\n          type: type,\n        })\n      }\n    }\n    return phoneNumbers\n  }, [contact])\n\n  function getPhoneIcon(type: string) {\n    switch (type) {\n      case 'extension':\n        return faHeadset\n      case 'workphone':\n        return faOfficePhone\n      case 'cellphone':\n        return faMobile\n      default:\n        return faPhone\n    }\n  }\n\n  return (\n    <>\n      <div className='pi-relative pi-flex pi-flex-col'>\n        {/* Top section */}\n        <div className='pi-relative pi-z-50'>\n          <div className='pi-flex pi-items-center pi-gap-2 pi-text-gray-900 dark:pi-text-gray-50'>\n            <Button\n              onClick={() => dispatch.island.setContactListView('main')}\n              variant='transparent'\n              data-tooltip-id='tooltip-back-to-transfer-results'\n              data-tooltip-content={t('Common.Back') || ''}\n            >\n              <FontAwesomeIcon className='pi-h-6 pi-w-6' icon={faArrowLeft} />\n            </Button>\n            <h1 className='pi-text-lg pi-font-medium pi-leading-7'>\n              {contact?.displayName || '-'}\n            </h1>\n          </div>\n        </div>\n        <div className='pi-z-30 pi-h-6 pi-pointer-events-none pi-bg-transparent pi-mt-7 pi-pr-4'></div>\n        <div style={{ marginTop: '-22px' }} className='pi-flex pi-flex-col pi-gap-7'>\n          {/* List section */}\n          <div\n            style={{ height: '17rem' }}\n            className='pi-relative pi-w-full pi-flex pi-flex-col pi-gap-1 pi-overflow-y-auto pi-overflow-x-hidden pi-scrollbar-thin pi-scrollbar-thumb-gray-400 pi-scrollbar-thumb-rounded-full pi-scrollbar-thumb-opacity-50 dark:pi-scrollbar-track-gray-900 pi-scrollbar-track-gray-200 pi-scrollbar-track-rounded-full pi-scrollbar-track-opacity-25'\n          >\n            {/* Phone numbers of phonebook contact */}\n            {phoneNumbers.map((phoneNumber, i) => (\n              <div\n                key={i}\n                className='pi-flex pi-items-center pi-w-full pi-justify-between pi-px-3 pi-py-1 pi-rounded-md hover:pi-bg-gray-200 hover:dark:pi-bg-gray-800'\n              >\n                <div className='pi-flex pi-items-center pi-gap-4'>\n                  <div className='pi-relative pi-block pi-shrink-0 pi-h-12 pi-w-12 pi-text-base pi-bg-gray-700 dark:pi-bg-gray-200 pi-rounded-full'>\n                    <div className='pi-text-white dark:pi-text-gray-950 pi-w-full pi-h-full pi-fill-white pi-flex pi-justify-center pi-items-center'>\n                      <FontAwesomeIcon\n                        icon={getPhoneIcon(phoneNumber.type)}\n                        className='pi-h-6 pi-w-6'\n                        aria-hidden='true'\n                      />\n                    </div>\n                  </div>\n                  <div>\n                    <div\n                      style={{ maxWidth: '196px' }}\n                      data-stop-propagation={true}\n                      className='pi-h-fit pi-truncate pi-text-sm pi-font-medium'\n                    >\n                      {t(`Phone.${phoneNumber.type}`)}\n                    </div>\n                    <div className='pi-text-sm pi-text-gray-700 dark:pi-text-gray-300'>\n                      {phoneNumber.number}\n                    </div>\n                  </div>\n                </div>\n                <div className='pi-flex pi-gap-3.5'>\n                  <Button\n                    onClick={() => clickTransferOrConference(phoneNumber.number, dispatch)}\n                    variant='green'\n                    data-tooltip-id='transfer-list-tooltip-left'\n                    data-tooltip-content={\n                      isInsideConferenceList()\n                        ? t('Conference.Add participant')\n                        : t('Tooltip.Transfer call')\n                    }\n                  >\n                    <FontAwesomeIcon className='pi-h-6 pi-w-6' icon={faPhone} />\n                  </Button>\n                </div>\n              </div>\n            ))}\n          </div>\n        </div>\n      </div>\n      <CustomThemedTooltip id={`tooltip-back-to-transfer-results`} place='right' />\n      <CustomThemedTooltip className='pi-z-1000' id='transfer-list-tooltip-left' place='left' />\n    </>\n  )\n}\n\ninterface SelectContactNumberViewProps {\n  contact?: PhonebookContact\n}\n"],"names":["_a","contact","dispatch","useDispatch","t","useTranslation","phoneNumbers","useMemo","phoneTypes_1","_i","length","type","phoneNumber","push","number","getPhoneIcon","faHeadset","faOfficePhone","faMobile","faPhone","React","createElement","Fragment","className","Button","onClick","island","setContactListView","variant","FontAwesomeIcon","icon","faArrowLeft","displayName","style","marginTop","height","map","i","key","maxWidth","concat","clickTransferOrConference","isInsideConferenceList","CustomThemedTooltip","id","place"],"mappings":"upCAeyE,SAACA,GAAE,IAAAC,EAAOD,EAAAC,QAC3EC,EAAWC,EAAAA,cACTC,EAAMC,qBAORC,EAAeC,EAAAA,SAAQ,WAK3B,IAJA,IAAMD,EAA8B,OAIjBE,EAFA,CAAC,YAAa,YAAa,aAE3BC,EAAUD,EAAAE,OAAVD,IAAY,CAA1B,IAAME,EAAIH,EAAAC,GACPG,EAAcX,eAAAA,EAAUU,GAC1BC,GACFN,EAAaO,KAAK,CAChBC,OAAQF,EACRD,KAAMA,GAGX,CACD,OAAOL,CACT,GAAG,CAACL,IAEJ,SAASc,EAAaJ,GACpB,OAAQA,GACN,IAAK,YACH,OAAOK,YACT,IAAK,YACH,OAAOC,gBACT,IAAK,YACH,OAAOC,WACT,QACE,OAAOC,UAEZ,CAED,OACEC,UAAAC,cAAAD,EAAA,QAAAE,SAAA,KACEF,EAAAA,QAAKC,cAAA,MAAA,CAAAE,UAAU,mCAEbH,EAAAA,QAAKC,cAAA,MAAA,CAAAE,UAAU,uBACbH,EAAAA,QAAKC,cAAA,MAAA,CAAAE,UAAU,0EACbH,UAAAC,cAACG,EAAAA,OAAM,CACLC,QAAS,WAAM,OAAAvB,EAASwB,OAAOC,mBAAmB,SAClDC,QAAQ,cACQ,kBAAA,mCACM,uBAAAxB,EAAE,gBAAkB,IAE1CgB,UAACC,cAAAQ,EAAAA,gBAAgB,CAAAN,UAAU,gBAAgBO,KAAMC,EAAWA,eAE9DX,EAAA,QAAAC,cAAA,KAAA,CAAIE,UAAU,2CACXtB,aAAA,EAAAA,EAAS+B,cAAe,OAI/BZ,EAAAA,QAAKC,cAAA,MAAA,CAAAE,UAAU,4EACfH,UAAKC,cAAA,MAAA,CAAAY,MAAO,CAAEC,UAAW,SAAWX,UAAU,gCAE5CH,EAAAA,QAAAC,cAAA,MAAA,CACEY,MAAO,CAAEE,OAAQ,SACjBZ,UAAU,qUAGTjB,EAAa8B,KAAI,SAACxB,EAAayB,GAAM,OACpCjB,UACEC,cAAA,MAAA,CAAAiB,IAAKD,EACLd,UAAU,qIAEVH,EAAAA,QAAKC,cAAA,MAAA,CAAAE,UAAU,oCACbH,EAAAA,QAAKC,cAAA,MAAA,CAAAE,UAAU,oHACbH,EAAAA,QAAKC,cAAA,MAAA,CAAAE,UAAU,mHACbH,EAAAA,QAAAC,cAACQ,EAAAA,gBACC,CAAAC,KAAMf,EAAaH,EAAYD,MAC/BY,UAAU,8BACE,WAIlBH,UAAAC,cAAA,MAAA,KACED,EACE,QAAAC,cAAA,MAAA,CAAAY,MAAO,CAAEM,SAAU,SACI,yBAAA,EACvBhB,UAAU,kDAETnB,EAAE,SAAAoC,OAAS5B,EAAYD,QAE1BS,UAAKC,cAAA,MAAA,CAAAE,UAAU,qDACZX,EAAYE,UAInBM,EAAAA,QAAKC,cAAA,MAAA,CAAAE,UAAU,sBACbH,EAAC,QAAAC,cAAAG,SACC,CAAAC,QAAS,WAAM,OAAAgB,EAAyBA,0BAAC7B,EAAYE,OAAQZ,EAAS,EACtE0B,QAAQ,QACQ,kBAAA,6BAEd,uBAAAc,2BACItC,EAAE,8BACFA,EAAE,0BAGRgB,EAAAA,QAAAC,cAACQ,EAAAA,gBAAgB,CAAAN,UAAU,gBAAgBO,KAAMX,EAAOA,YAI/D,OAIPC,EAAC,QAAAC,cAAAsB,uBAAoBC,GAAI,mCAAoCC,MAAM,UACnEzB,EAAAA,QAAAC,cAACsB,sBAAoB,CAAApB,UAAU,YAAYqB,GAAG,6BAA6BC,MAAM,SAGvF"}