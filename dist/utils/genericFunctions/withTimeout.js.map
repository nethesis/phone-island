{"version":3,"file":"withTimeout.js","sources":["../../../src/utils/genericFunctions/withTimeout.ts"],"sourcesContent":["// Copyright (C) 2024 Nethesis S.r.l.\n// SPDX-License-Identifier: AGPL-3.0-or-later\n\n/**\n * Handles a function to be called before a timeout\n *\n * @param onSuccess The function to execute before timeout\n * @param onTimeout The function to execute when timeout it reached\n * @param timeout The timeout\n */\nexport const withTimeout = (\n  onSuccess: (args: any) => void,\n  onTimeout: () => void,\n  timeout: number,\n) => {\n  let called = false\n  const timer = setTimeout(() => {\n    if (called) return\n    called = true\n    onTimeout()\n  }, timeout)\n  return (...args: any) => {\n    if (called) return\n    called = true\n    clearTimeout(timer)\n    onSuccess(args)\n  }\n}\n"],"names":["onSuccess","onTimeout","timeout","called","timer","setTimeout","args","_i","arguments","length","clearTimeout"],"mappings":"wFAU2B,SACzBA,EACAC,EACAC,GAEA,IAAIC,GAAS,EACPC,EAAQC,YAAW,WACnBF,IACJA,GAAS,EACTF,IACD,GAAEC,GACH,OAAO,eAAC,IAAYI,EAAA,GAAAC,EAAA,EAAZA,EAAYC,UAAAC,OAAZF,IAAAD,EAAYC,GAAAC,UAAAD,GACdJ,IACJA,GAAS,EACTO,aAAaN,GACbJ,EAAUM,GACZ,CACF"}