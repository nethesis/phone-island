"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),require("../../../../../react/jsx-runtime.js");var e=require("react"),t=require("../../context/MotionConfigContext.mjs.js"),n=require("../../../../../../_virtual/jsx-runtime.js");function r(e){if(e&&e.__esModule)return e;var t=Object.create(null);return e&&Object.keys(e).forEach((function(n){if("default"!==n){var r=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,r.get?r:{enumerable:!0,get:function(){return e[n]}})}})),t.default=e,Object.freeze(t)}var o=r(e);class i extends o.Component{getSnapshotBeforeUpdate(e){const t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){const e=t.offsetParent,n=e instanceof HTMLElement&&e.offsetWidth||0,r=this.props.sizeRef.current;r.height=t.offsetHeight||0,r.width=t.offsetWidth||0,r.top=t.offsetTop,r.left=t.offsetLeft,r.right=n-r.width-r.left}return null}componentDidUpdate(){}render(){return this.props.children}}exports.PopChild=function({children:r,isPresent:s,anchorX:f}){const c=e.useId(),u=e.useRef(null),p=e.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:h}=e.useContext(t.MotionConfigContext);return e.useInsertionEffect((()=>{const{width:e,height:t,top:n,left:r,right:o}=p.current;if(s||!u.current||!e||!t)return;const i="left"===f?`left: ${r}`:`right: ${o}`;u.current.dataset.motionPopId=c;const d=document.createElement("style");return h&&(d.nonce=h),document.head.appendChild(d),d.sheet&&d.sheet.insertRule(`\n          [data-motion-pop-id="${c}"] {\n            position: absolute !important;\n            width: ${e}px !important;\n            height: ${t}px !important;\n            ${i}px !important;\n            top: ${n}px !important;\n          }\n        `),()=>{document.head.removeChild(d)}}),[s]),n.jsxRuntime.exports.jsx(i,{isPresent:s,childRef:u,sizeRef:p,children:o.cloneElement(r,{ref:u})})};
//# sourceMappingURL=PopChild.mjs.js.map
