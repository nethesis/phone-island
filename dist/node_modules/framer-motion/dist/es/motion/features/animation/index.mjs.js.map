{"version":3,"file":"index.mjs.js","sources":["../../../../../../../../node_modules/framer-motion/dist/es/motion/features/animation/index.mjs"],"sourcesContent":["import { isAnimationControls } from '../../../animation/utils/is-animation-controls.mjs';\nimport { createAnimationState } from '../../../render/utils/animation-state.mjs';\nimport { Feature } from '../Feature.mjs';\n\nclass AnimationFeature extends Feature {\n    /**\n     * We dynamically generate the AnimationState manager as it contains a reference\n     * to the underlying animation library. We only want to load that if we load this,\n     * so people can optionally code split it out using the `m` component.\n     */\n    constructor(node) {\n        super(node);\n        node.animationState || (node.animationState = createAnimationState(node));\n    }\n    updateAnimationControlsSubscription() {\n        const { animate } = this.node.getProps();\n        if (isAnimationControls(animate)) {\n            this.unmountControls = animate.subscribe(this.node);\n        }\n    }\n    /**\n     * Subscribe any provided AnimationControls to the component's VisualElement\n     */\n    mount() {\n        this.updateAnimationControlsSubscription();\n    }\n    update() {\n        const { animate } = this.node.getProps();\n        const { animate: prevAnimate } = this.node.prevProps || {};\n        if (animate !== prevAnimate) {\n            this.updateAnimationControlsSubscription();\n        }\n    }\n    unmount() {\n        this.node.animationState.reset();\n        this.unmountControls?.();\n    }\n}\n\nexport { AnimationFeature };\n"],"names":["AnimationFeature","Feature","constructor","node","super","animationState","createAnimationState","updateAnimationControlsSubscription","animate","this","getProps","isAnimationControls","unmountControls","subscribe","mount","update","prevAnimate","prevProps","unmount","reset"],"mappings":"oOAIA,MAAMA,UAAyBC,EAAAA,QAM3BC,WAAAA,CAAYC,GACRC,MAAMD,GACNA,EAAKE,iBAAmBF,EAAKE,eAAiBC,EAAoBA,qBAACH,GACvE,CACAI,mCAAAA,GACI,MAAMC,QAAEA,GAAYC,KAAKN,KAAKO,WAC1BC,EAAAA,oBAAoBH,KACpBC,KAAKG,gBAAkBJ,EAAQK,UAAUJ,KAAKN,MAEtD,CAIAW,KAAAA,GACIL,KAAKF,qCACT,CACAQ,MAAAA,GACI,MAAMP,QAAEA,GAAYC,KAAKN,KAAKO,YACtBF,QAASQ,GAAgBP,KAAKN,KAAKc,WAAa,GACpDT,IAAYQ,GACZP,KAAKF,qCAEb,CACAW,OAAAA,GACIT,KAAKN,KAAKE,eAAec,QACzBV,KAAKG,mBACT"}