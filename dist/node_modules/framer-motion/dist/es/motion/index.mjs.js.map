{"version":3,"file":"index.mjs.js","sources":["../../../../../../node_modules/framer-motion/dist/es/motion/index.mjs"],"sourcesContent":["\"use client\";\nimport { jsxs, jsx } from 'react/jsx-runtime';\nimport { warning, invariant } from 'motion-utils';\nimport { forwardRef, useContext } from 'react';\nimport { LayoutGroupContext } from '../context/LayoutGroupContext.mjs';\nimport { LazyContext } from '../context/LazyContext.mjs';\nimport { MotionConfigContext } from '../context/MotionConfigContext.mjs';\nimport { MotionContext } from '../context/MotionContext/index.mjs';\nimport { useCreateMotionContext } from '../context/MotionContext/create.mjs';\nimport { isBrowser } from '../utils/is-browser.mjs';\nimport { featureDefinitions } from './features/definitions.mjs';\nimport { loadFeatures } from './features/load-features.mjs';\nimport { motionComponentSymbol } from './utils/symbol.mjs';\nimport { useMotionRef } from './utils/use-motion-ref.mjs';\nimport { useVisualElement } from './utils/use-visual-element.mjs';\n\n/**\n * Create a `motion` component.\n *\n * This function accepts a Component argument, which can be either a string (ie \"div\"\n * for `motion.div`), or an actual React component.\n *\n * Alongside this is a config option which provides a way of rendering the provided\n * component \"offline\", or outside the React render cycle.\n */\nfunction createRendererMotionComponent({ preloadedFeatures, createVisualElement, useRender, useVisualState, Component, }) {\n    preloadedFeatures && loadFeatures(preloadedFeatures);\n    function MotionComponent(props, externalRef) {\n        /**\n         * If we need to measure the element we load this functionality in a\n         * separate class component in order to gain access to getSnapshotBeforeUpdate.\n         */\n        let MeasureLayout;\n        const configAndProps = {\n            ...useContext(MotionConfigContext),\n            ...props,\n            layoutId: useLayoutId(props),\n        };\n        const { isStatic } = configAndProps;\n        const context = useCreateMotionContext(props);\n        const visualState = useVisualState(props, isStatic);\n        if (!isStatic && isBrowser) {\n            useStrictMode(configAndProps, preloadedFeatures);\n            const layoutProjection = getProjectionFunctionality(configAndProps);\n            MeasureLayout = layoutProjection.MeasureLayout;\n            /**\n             * Create a VisualElement for this component. A VisualElement provides a common\n             * interface to renderer-specific APIs (ie DOM/Three.js etc) as well as\n             * providing a way of rendering to these APIs outside of the React render loop\n             * for more performant animations and interactions\n             */\n            context.visualElement = useVisualElement(Component, visualState, configAndProps, createVisualElement, layoutProjection.ProjectionNode);\n        }\n        /**\n         * The mount order and hierarchy is specific to ensure our element ref\n         * is hydrated by the time features fire their effects.\n         */\n        return (jsxs(MotionContext.Provider, { value: context, children: [MeasureLayout && context.visualElement ? (jsx(MeasureLayout, { visualElement: context.visualElement, ...configAndProps })) : null, useRender(Component, props, useMotionRef(visualState, context.visualElement, externalRef), visualState, isStatic, context.visualElement)] }));\n    }\n    MotionComponent.displayName = `motion.${typeof Component === \"string\"\n        ? Component\n        : `create(${Component.displayName ?? Component.name ?? \"\"})`}`;\n    const ForwardRefMotionComponent = forwardRef(MotionComponent);\n    ForwardRefMotionComponent[motionComponentSymbol] = Component;\n    return ForwardRefMotionComponent;\n}\nfunction useLayoutId({ layoutId }) {\n    const layoutGroupId = useContext(LayoutGroupContext).id;\n    return layoutGroupId && layoutId !== undefined\n        ? layoutGroupId + \"-\" + layoutId\n        : layoutId;\n}\nfunction useStrictMode(configAndProps, preloadedFeatures) {\n    const isStrict = useContext(LazyContext).strict;\n    /**\n     * If we're in development mode, check to make sure we're not rendering a motion component\n     * as a child of LazyMotion, as this will break the file-size benefits of using it.\n     */\n    if (process.env.NODE_ENV !== \"production\" &&\n        preloadedFeatures &&\n        isStrict) {\n        const strictMessage = \"You have rendered a `motion` component within a `LazyMotion` component. This will break tree shaking. Import and render a `m` component instead.\";\n        configAndProps.ignoreStrict\n            ? warning(false, strictMessage)\n            : invariant(false, strictMessage);\n    }\n}\nfunction getProjectionFunctionality(props) {\n    const { drag, layout } = featureDefinitions;\n    if (!drag && !layout)\n        return {};\n    const combined = { ...drag, ...layout };\n    return {\n        MeasureLayout: drag?.isEnabled(props) || layout?.isEnabled(props)\n            ? combined.MeasureLayout\n            : undefined,\n        ProjectionNode: combined.ProjectionNode,\n    };\n}\n\nexport { createRendererMotionComponent };\n"],"names":["useLayoutId","layoutId","layoutGroupId","useContext","LayoutGroupContext","id","undefined","preloadedFeatures","createVisualElement","useRender","useVisualState","Component","MotionComponent","props","externalRef","MeasureLayout","configAndProps","MotionConfigContext","isStatic","context","useCreateMotionContext","visualState","isBrowser","isStrict","LazyContext","strict","process","env","NODE_ENV","strictMessage","ignoreStrict","warning","invariant","useStrictMode","layoutProjection","drag","layout","featureDefinitions","combined","isEnabled","ProjectionNode","getProjectionFunctionality","visualElement","useVisualElement","jsxs","jsxRuntime","exports","MotionContext","Provider","value","children","jsx","useMotionRef","loadFeatures","displayName","name","ForwardRefMotionComponent","forwardRef","motionComponentSymbol"],"mappings":"2uBAkEA,SAASA,GAAYC,SAAEA,IACnB,MAAMC,EAAgBC,EAAAA,WAAWC,EAAkBA,oBAAEC,GACrD,OAAOH,QAA8BI,IAAbL,EAClBC,EAAgB,IAAMD,EACtBA,CACV,uCA9CA,UAAuCM,kBAAEA,EAAiBC,oBAAEA,EAAmBC,UAAEA,EAASC,eAAEA,EAAcC,UAAEA,IAExG,SAASC,EAAgBC,EAAOC,GAK5B,IAAIC,EACJ,MAAMC,EAAiB,IAChBb,EAAAA,WAAWc,EAAAA,wBACXJ,EACHZ,SAAUD,EAAYa,KAEpBK,SAAEA,GAAaF,EACfG,EAAUC,yBAAuBP,GACjCQ,EAAcX,EAAeG,EAAOK,GAC1C,IAAKA,GAAYI,YAAW,EA+BpC,SAAuBN,EAAgBT,GACnC,MAAMgB,EAAWpB,EAAAA,WAAWqB,EAAWA,aAAEC,OAKzC,GAA6B,eAAzBC,QAAQC,IAAIC,UACZrB,GACAgB,EAAU,CACV,MAAMM,EAAgB,mJACtBb,EAAec,aACTC,EAAAA,SAAQ,EAAOF,GACfG,EAASA,WAAC,EAAOH,EAC3B,CACJ,CA5CYI,CAAcjB,EAAgBT,GAC9B,MAAM2B,EA4ClB,SAAoCrB,GAChC,MAAMsB,KAAEA,EAAIC,OAAEA,GAAWC,qBACzB,IAAKF,IAASC,EACV,MAAO,CAAA,EACX,MAAME,EAAW,IAAKH,KAASC,GAC/B,MAAO,CACHrB,cAAeoB,GAAMI,UAAU1B,IAAUuB,GAAQG,UAAU1B,GACrDyB,EAASvB,mBACTT,EACNkC,eAAgBF,EAASE,eAEjC,CAvDqCC,CAA2BzB,GACpDD,EAAgBmB,EAAiBnB,cAOjCI,EAAQuB,cAAgBC,EAAgBA,iBAAChC,EAAWU,EAAaL,EAAgBR,EAAqB0B,EAAiBM,eAC3H,CAKA,OAAQI,EAAIC,WAAAC,QAAAF,KAACG,EAAaA,cAACC,SAAU,CAAEC,MAAO9B,EAAS+B,SAAU,CAACnC,GAAiBI,EAAQuB,cAAiBS,EAAAA,WAAAA,QAAAA,IAAIpC,EAAe,CAAE2B,cAAevB,EAAQuB,iBAAkB1B,IAAqB,KAAMP,EAAUE,EAAWE,EAAOuC,EAAYA,aAAC/B,EAAaF,EAAQuB,cAAe5B,GAAcO,EAAaH,EAAUC,EAAQuB,iBACnU,CAhCAnC,GAAqB8C,EAAAA,aAAa9C,GAiClCK,EAAgB0C,YAAc,UAA+B,iBAAd3C,EACzCA,EACA,UAAUA,EAAU2C,aAAe3C,EAAU4C,MAAQ,QAC3D,MAAMC,EAA4BC,aAAW7C,GAE7C,OADA4C,EAA0BE,EAAAA,uBAAyB/C,EAC5C6C,CACX"}