{"version":3,"file":"setters.mjs.js","sources":["../../../../../../../node_modules/framer-motion/dist/es/render/utils/setters.mjs"],"sourcesContent":["import { motionValue } from 'motion-dom';\nimport { isKeyframesTarget } from '../../animation/utils/is-keyframes-target.mjs';\nimport { resolveVariant } from './resolve-dynamic-variants.mjs';\n\n/**\n * Set VisualElement's MotionValue, creating a new MotionValue for it if\n * it doesn't exist.\n */\nfunction setMotionValue(visualElement, key, value) {\n    if (visualElement.hasValue(key)) {\n        visualElement.getValue(key).set(value);\n    }\n    else {\n        visualElement.addValue(key, motionValue(value));\n    }\n}\nfunction resolveFinalValueInKeyframes(v) {\n    // TODO maybe throw if v.length - 1 is placeholder token?\n    return isKeyframesTarget(v) ? v[v.length - 1] || 0 : v;\n}\nfunction setTarget(visualElement, definition) {\n    const resolved = resolveVariant(visualElement, definition);\n    let { transitionEnd = {}, transition = {}, ...target } = resolved || {};\n    target = { ...target, ...transitionEnd };\n    for (const key in target) {\n        const value = resolveFinalValueInKeyframes(target[key]);\n        setMotionValue(visualElement, key, value);\n    }\n}\n\nexport { setTarget };\n"],"names":["setMotionValue","visualElement","key","value","hasValue","getValue","set","addValue","motionValue","definition","resolved","resolveVariant","transitionEnd","transition","target","v","isKeyframesTarget","length"],"mappings":"uPAQA,SAASA,EAAeC,EAAeC,EAAKC,GACpCF,EAAcG,SAASF,GACvBD,EAAcI,SAASH,GAAKI,IAAIH,GAGhCF,EAAcM,SAASL,EAAKM,EAAAA,YAAYL,GAEhD,mBAKA,SAAmBF,EAAeQ,GAC9B,MAAMC,EAAWC,EAAAA,eAAeV,EAAeQ,GAC/C,IAAIG,cAAEA,EAAgB,CAAE,EAAAC,WAAEA,EAAa,CAAE,KAAKC,GAAWJ,GAAY,CAAA,EACrEI,EAAS,IAAKA,KAAWF,GACzB,IAAK,MAAMV,KAAOY,EAAQ,CAEtBd,EAAeC,EAAeC,GAVAa,EASaD,EAAOZ,GAP/Cc,EAAiBA,kBAACD,GAAKA,EAAEA,EAAEE,OAAS,IAAM,EAAIF,GASrD,CAXJ,IAAsCA,CAYtC"}