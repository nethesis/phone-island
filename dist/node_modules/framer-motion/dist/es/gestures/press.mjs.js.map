{"version":3,"file":"press.mjs.js","sources":["../../../../../../node_modules/framer-motion/dist/es/gestures/press.mjs"],"sourcesContent":["import { press, frame } from 'motion-dom';\nimport { extractEventInfo } from '../events/event-info.mjs';\nimport { Feature } from '../motion/features/Feature.mjs';\n\nfunction handlePressEvent(node, event, lifecycle) {\n    const { props } = node;\n    if (node.current instanceof HTMLButtonElement && node.current.disabled) {\n        return;\n    }\n    if (node.animationState && props.whileTap) {\n        node.animationState.setActive(\"whileTap\", lifecycle === \"Start\");\n    }\n    const eventName = (\"onTap\" + (lifecycle === \"End\" ? \"\" : lifecycle));\n    const callback = props[eventName];\n    if (callback) {\n        frame.postRender(() => callback(event, extractEventInfo(event)));\n    }\n}\nclass PressGesture extends Feature {\n    mount() {\n        const { current } = this.node;\n        if (!current)\n            return;\n        this.unmount = press(current, (_element, startEvent) => {\n            handlePressEvent(this.node, startEvent, \"Start\");\n            return (endEvent, { success }) => handlePressEvent(this.node, endEvent, success ? \"End\" : \"Cancel\");\n        }, { useGlobalTarget: this.node.props.globalTapTarget });\n    }\n    unmount() { }\n}\n\nexport { PressGesture };\n"],"names":["handlePressEvent","node","event","lifecycle","props","current","HTMLButtonElement","disabled","animationState","whileTap","setActive","callback","frame","postRender","extractEventInfo","PressGesture","Feature","mount","this","unmount","press","_element","startEvent","endEvent","success","useGlobalTarget","globalTapTarget"],"mappings":"2SAIA,SAASA,EAAiBC,EAAMC,EAAOC,GACnC,MAAMC,MAAEA,GAAUH,EAClB,GAAIA,EAAKI,mBAAmBC,mBAAqBL,EAAKI,QAAQE,SAC1D,OAEAN,EAAKO,gBAAkBJ,EAAMK,UAC7BR,EAAKO,eAAeE,UAAU,WAA0B,UAAdP,GAE9C,MACMQ,EAAWP,EADE,SAAyB,QAAdD,EAAsB,GAAKA,IAErDQ,GACAC,EAAKA,MAACC,YAAW,IAAMF,EAAST,EAAOY,mBAAiBZ,KAEhE,CACA,MAAMa,UAAqBC,EAAAA,QACvBC,KAAAA,GACI,MAAMZ,QAAEA,GAAYa,KAAKjB,KACpBI,IAELa,KAAKC,QAAUC,EAAKA,MAACf,GAAS,CAACgB,EAAUC,KACrCtB,EAAiBkB,KAAKjB,KAAMqB,EAAY,SACjC,CAACC,GAAYC,aAAcxB,EAAiBkB,KAAKjB,KAAMsB,EAAUC,EAAU,MAAQ,YAC3F,CAAEC,gBAAiBP,KAAKjB,KAAKG,MAAMsB,kBAC1C,CACAP,OAAAA,GAAY"}