{"version":3,"file":"Provider.js","sources":["../../../../../node_modules/react-redux/es/components/Provider.js"],"sourcesContent":["import React, { useMemo } from 'react';\nimport { ReactReduxContext } from './Context';\nimport { createSubscription } from '../utils/Subscription';\nimport { useIsomorphicLayoutEffect } from '../utils/useIsomorphicLayoutEffect';\n\nfunction Provider({\n  store,\n  context,\n  children,\n  serverState\n}) {\n  const contextValue = useMemo(() => {\n    const subscription = createSubscription(store);\n    return {\n      store,\n      subscription,\n      getServerState: serverState ? () => serverState : undefined\n    };\n  }, [store, serverState]);\n  const previousState = useMemo(() => store.getState(), [store]);\n  useIsomorphicLayoutEffect(() => {\n    const {\n      subscription\n    } = contextValue;\n    subscription.onStateChange = subscription.notifyNestedSubs;\n    subscription.trySubscribe();\n\n    if (previousState !== store.getState()) {\n      subscription.notifyNestedSubs();\n    }\n\n    return () => {\n      subscription.tryUnsubscribe();\n      subscription.onStateChange = undefined;\n    };\n  }, [contextValue, previousState]);\n  const Context = context || ReactReduxContext; // @ts-ignore 'AnyAction' is assignable to the constraint of type 'A', but 'A' could be instantiated with a different subtype\n\n  return /*#__PURE__*/React.createElement(Context.Provider, {\n    value: contextValue\n  }, children);\n}\n\nexport default Provider;"],"names":["store","context","children","serverState","contextValue","useMemo","subscription","createSubscription","getServerState","undefined","previousState","getState","useIsomorphicLayoutEffect","onStateChange","notifyNestedSubs","trySubscribe","tryUnsubscribe","Context","ReactReduxContext","React","createElement","Provider","value"],"mappings":"iTAKA,UAAkBA,MAChBA,EAAKC,QACLA,EAAOC,SACPA,EAAQC,YACRA,IAEA,MAAMC,EAAeC,EAAAA,SAAQ,KAC3B,MAAMC,EAAeC,qBAAmBP,GACxC,MAAO,CACLA,QACAM,eACAE,eAAgBL,EAAc,IAAMA,OAAcM,EACnD,GACA,CAACT,EAAOG,IACLO,EAAgBL,EAAAA,SAAQ,IAAML,EAAMW,YAAY,CAACX,IACvDY,EAAAA,2BAA0B,KACxB,MAAMN,aACJA,GACEF,EAQJ,OAPAE,EAAaO,cAAgBP,EAAaQ,iBAC1CR,EAAaS,eAETL,IAAkBV,EAAMW,YAC1BL,EAAaQ,mBAGR,KACLR,EAAaU,iBACbV,EAAaO,mBAAgBJ,CAAS,CACvC,GACA,CAACL,EAAcM,IAClB,MAAMO,EAAUhB,GAAWiB,oBAE3B,OAAoBC,UAAMC,cAAcH,EAAQI,SAAU,CACxDC,MAAOlB,GACNF,EACL"}