{"version":3,"file":"useFocusWithin.mjs.js","sources":["../../../../../node_modules/@react-aria/interactions/dist/useFocusWithin.mjs"],"sourcesContent":["import {useSyntheticBlurEvent as $8a9cb279dc87e130$export$715c682d09d639cc} from \"./utils.mjs\";\nimport {useRef as $3b9Q0$useRef, useCallback as $3b9Q0$useCallback} from \"react\";\n\n/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */ // Portions of the code in this file are based on code from react.\n// Original licensing for the following can be found in the\n// NOTICE file in the root directory of this source tree.\n// See https://github.com/facebook/react/tree/cc7c1aece46a6b69b41958d731e0fd27c94bfc6c/packages/react-interactions\n\n\nfunction $9ab94262bd0047c7$export$420e68273165f4ec(props) {\n    let { isDisabled: isDisabled, onBlurWithin: onBlurWithin, onFocusWithin: onFocusWithin, onFocusWithinChange: onFocusWithinChange } = props;\n    let state = (0, $3b9Q0$useRef)({\n        isFocusWithin: false\n    });\n    let onBlur = (0, $3b9Q0$useCallback)((e)=>{\n        // We don't want to trigger onBlurWithin and then immediately onFocusWithin again\n        // when moving focus inside the element. Only trigger if the currentTarget doesn't\n        // include the relatedTarget (where focus is moving).\n        if (state.current.isFocusWithin && !e.currentTarget.contains(e.relatedTarget)) {\n            state.current.isFocusWithin = false;\n            if (onBlurWithin) onBlurWithin(e);\n            if (onFocusWithinChange) onFocusWithinChange(false);\n        }\n    }, [\n        onBlurWithin,\n        onFocusWithinChange,\n        state\n    ]);\n    let onSyntheticFocus = (0, $8a9cb279dc87e130$export$715c682d09d639cc)(onBlur);\n    let onFocus = (0, $3b9Q0$useCallback)((e)=>{\n        // Double check that document.activeElement actually matches e.target in case a previously chained\n        // focus handler already moved focus somewhere else.\n        if (!state.current.isFocusWithin && document.activeElement === e.target) {\n            if (onFocusWithin) onFocusWithin(e);\n            if (onFocusWithinChange) onFocusWithinChange(true);\n            state.current.isFocusWithin = true;\n            onSyntheticFocus(e);\n        }\n    }, [\n        onFocusWithin,\n        onFocusWithinChange,\n        onSyntheticFocus\n    ]);\n    if (isDisabled) return {\n        focusWithinProps: {\n            // These should not have been null, that would conflict in mergeProps\n            onFocus: undefined,\n            onBlur: undefined\n        }\n    };\n    return {\n        focusWithinProps: {\n            onFocus: onFocus,\n            onBlur: onBlur\n        }\n    };\n}\n\n\nexport {$9ab94262bd0047c7$export$420e68273165f4ec as useFocusWithin};\n//# sourceMappingURL=useFocusWithin.module.js.map\n"],"names":["props","isDisabled","onBlurWithin","onFocusWithin","onFocusWithinChange","state","$3b9Q0$useRef","isFocusWithin","onBlur","$3b9Q0$useCallback","e","current","currentTarget","contains","relatedTarget","onSyntheticFocus","$8a9cb279dc87e130$export$715c682d09d639cc","onFocus","document","activeElement","target","focusWithinProps","undefined"],"mappings":"8IAwCO,SAAwBA,GAC7B,IAAIC,WACFA,EAAUC,aACVA,EAAYC,cACZA,EAAaC,oBACbA,GACEJ,EACAK,EAAQC,EAAK,OAAE,CACjBC,eAAe,IAGbC,EAASC,EAAU,aAAGC,IAIpBL,EAAMM,QAAQJ,gBAAkBG,EAAGE,cAA0BC,SAASH,EAAEI,iBAC1ET,EAAMM,QAAQJ,eAAgB,EAE1BL,GACFA,EAAaQ,GAGXN,GACFA,GAAoB,GAExB,GACC,CAACF,EAAcE,EAAqBC,IAEnCU,EAAmBC,EAAoB,sBAAER,GACzCS,EAAUR,EAAU,aAAGC,IAGpBL,EAAMM,QAAQJ,eAAiBW,SAASC,gBAAkBT,EAAEU,SAC3DjB,GACFA,EAAcO,GAGZN,GACFA,GAAoB,GAGtBC,EAAMM,QAAQJ,eAAgB,EAC9BQ,EAAiBL,GACnB,GACC,CAACP,EAAeC,EAAqBW,IAExC,OAAId,EACK,CACLoB,iBAAkB,CAEhBJ,aAASK,EACTd,YAAQc,IAKP,CACLD,iBAAkB,SAChBJ,EACAT,OAAAA,GAGN"}