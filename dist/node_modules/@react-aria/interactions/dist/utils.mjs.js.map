{"version":3,"file":"utils.mjs.js","sources":["../../../../../node_modules/@react-aria/interactions/dist/utils.mjs"],"sourcesContent":["import {useRef as $6dfIe$useRef, useCallback as $6dfIe$useCallback} from \"react\";\nimport {useLayoutEffect as $6dfIe$useLayoutEffect, useEffectEvent as $6dfIe$useEffectEvent} from \"@react-aria/utils\";\n\n/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */ \n\nclass $8a9cb279dc87e130$export$905e7fc544a71f36 {\n    isDefaultPrevented() {\n        return this.nativeEvent.defaultPrevented;\n    }\n    preventDefault() {\n        this.defaultPrevented = true;\n        this.nativeEvent.preventDefault();\n    }\n    stopPropagation() {\n        this.nativeEvent.stopPropagation();\n        this.isPropagationStopped = ()=>true;\n    }\n    isPropagationStopped() {\n        return false;\n    }\n    persist() {}\n    constructor(type, nativeEvent){\n        this.nativeEvent = nativeEvent;\n        this.target = nativeEvent.target;\n        this.currentTarget = nativeEvent.currentTarget;\n        this.relatedTarget = nativeEvent.relatedTarget;\n        this.bubbles = nativeEvent.bubbles;\n        this.cancelable = nativeEvent.cancelable;\n        this.defaultPrevented = nativeEvent.defaultPrevented;\n        this.eventPhase = nativeEvent.eventPhase;\n        this.isTrusted = nativeEvent.isTrusted;\n        this.timeStamp = nativeEvent.timeStamp;\n        this.type = type;\n    }\n}\nfunction $8a9cb279dc87e130$export$715c682d09d639cc(onBlur) {\n    let stateRef = (0, $6dfIe$useRef)({\n        isFocused: false,\n        observer: null\n    });\n    // Clean up MutationObserver on unmount. See below.\n    // eslint-disable-next-line arrow-body-style\n    (0, $6dfIe$useLayoutEffect)(()=>{\n        const state = stateRef.current;\n        return ()=>{\n            if (state.observer) {\n                state.observer.disconnect();\n                state.observer = null;\n            }\n        };\n    }, []);\n    let dispatchBlur = (0, $6dfIe$useEffectEvent)((e)=>{\n        onBlur === null || onBlur === void 0 ? void 0 : onBlur(e);\n    });\n    // This function is called during a React onFocus event.\n    return (0, $6dfIe$useCallback)((e)=>{\n        // React does not fire onBlur when an element is disabled. https://github.com/facebook/react/issues/9142\n        // Most browsers fire a native focusout event in this case, except for Firefox. In that case, we use a\n        // MutationObserver to watch for the disabled attribute, and dispatch these events ourselves.\n        // For browsers that do, focusout fires before the MutationObserver, so onBlur should not fire twice.\n        if (e.target instanceof HTMLButtonElement || e.target instanceof HTMLInputElement || e.target instanceof HTMLTextAreaElement || e.target instanceof HTMLSelectElement) {\n            stateRef.current.isFocused = true;\n            let target = e.target;\n            let onBlurHandler = (e)=>{\n                stateRef.current.isFocused = false;\n                if (target.disabled) // For backward compatibility, dispatch a (fake) React synthetic event.\n                dispatchBlur(new $8a9cb279dc87e130$export$905e7fc544a71f36('blur', e));\n                // We no longer need the MutationObserver once the target is blurred.\n                if (stateRef.current.observer) {\n                    stateRef.current.observer.disconnect();\n                    stateRef.current.observer = null;\n                }\n            };\n            target.addEventListener('focusout', onBlurHandler, {\n                once: true\n            });\n            stateRef.current.observer = new MutationObserver(()=>{\n                if (stateRef.current.isFocused && target.disabled) {\n                    var _stateRef_current_observer;\n                    (_stateRef_current_observer = stateRef.current.observer) === null || _stateRef_current_observer === void 0 ? void 0 : _stateRef_current_observer.disconnect();\n                    let relatedTargetEl = target === document.activeElement ? null : document.activeElement;\n                    target.dispatchEvent(new FocusEvent('blur', {\n                        relatedTarget: relatedTargetEl\n                    }));\n                    target.dispatchEvent(new FocusEvent('focusout', {\n                        bubbles: true,\n                        relatedTarget: relatedTargetEl\n                    }));\n                }\n            });\n            stateRef.current.observer.observe(target, {\n                attributes: true,\n                attributeFilter: [\n                    'disabled'\n                ]\n            });\n        }\n    }, [\n        dispatchBlur\n    ]);\n}\n\n\nexport {$8a9cb279dc87e130$export$905e7fc544a71f36 as SyntheticFocusEvent, $8a9cb279dc87e130$export$715c682d09d639cc as useSyntheticBlurEvent};\n//# sourceMappingURL=utils.module.js.map\n"],"names":["$8a9cb279dc87e130$export$905e7fc544a71f36","isDefaultPrevented","this","nativeEvent","defaultPrevented","preventDefault","stopPropagation","isPropagationStopped","persist","constructor","type","target","currentTarget","relatedTarget","bubbles","cancelable","eventPhase","isTrusted","timeStamp","onBlur","stateRef","$6dfIe$useRef","isFocused","observer","$6dfIe$useLayoutEffect","state","current","disconnect","dispatchBlur","$6dfIe$useEffectEvent","e","$6dfIe$useCallback","HTMLButtonElement","HTMLInputElement","HTMLTextAreaElement","HTMLSelectElement","onBlurHandler","disabled","addEventListener","once","MutationObserver","_stateRef_current_observer","relatedTargetEl","document","activeElement","dispatchEvent","FocusEvent","observe","attributes","attributeFilter"],"mappings":"0PAeO,MAAMA,EA2BXC,kBAAAA,GACE,OAAOC,KAAKC,YAAYC,gBAC1B,CAEAC,cAAAA,GACEH,KAAKE,kBAAmB,EACxBF,KAAKC,YAAYE,gBACnB,CAEAC,eAAAA,GACEJ,KAAKC,YAAYG,kBACjBJ,KAAKK,qBAAuB,KAAM,CACpC,CAEAA,oBAAAA,GACE,OAAO,CACT,CAEAC,OAAAA,GAAW,CAhCXC,WAAAA,CAAYC,EAAcP,GACxBD,KAAKC,YAAcA,EACnBD,KAAKS,OAASR,EAAYQ,OAC1BT,KAAKU,cAAgBT,EAAYS,cACjCV,KAAKW,cAAgBV,EAAYU,cACjCX,KAAKY,QAAUX,EAAYW,QAC3BZ,KAAKa,WAAaZ,EAAYY,WAC9Bb,KAAKE,iBAAmBD,EAAYC,iBACpCF,KAAKc,WAAab,EAAYa,WAC9Bd,KAAKe,UAAYd,EAAYc,UAC7Bf,KAAKgB,UAAYf,EAAYe,UAC7BhB,KAAKQ,KAAOA,CACd,8DAuBK,SAAiDS,GACtD,IAAIC,EAAWC,EAAK,OAAE,CACpBC,WAAW,EACXC,SAAU,OAKZC,EAAc,iBAAE,KACd,MAAMC,EAAQL,EAASM,QACvB,MAAO,KACDD,EAAMF,WACRE,EAAMF,SAASI,aACfF,EAAMF,SAAW,KACnB,CACF,GACC,IAEH,IAAIK,EAAeC,EAAa,gBAAGC,IACjCX,SAAAA,EAASW,EAAA,IAIX,OAAOC,EAAU,aAAGD,IAKlB,GACEA,EAAEnB,kBAAkBqB,mBACpBF,EAAEnB,kBAAkBsB,kBACpBH,EAAEnB,kBAAkBuB,qBACpBJ,EAAEnB,kBAAkBwB,kBACpB,CACAf,EAASM,QAAQJ,WAAY,EAE7B,IAAIX,EAASmB,EAAEnB,OACXyB,EAA4DN,IAC9DV,EAASM,QAAQJ,WAAY,EAEzBX,EAAO0B,UAETT,EAAa,IAAI5B,EAAoB,OAAQ8B,IAI3CV,EAASM,QAAQH,WACnBH,EAASM,QAAQH,SAASI,aAC1BP,EAASM,QAAQH,SAAW,KAC9B,EAGFZ,EAAO2B,iBAAiB,WAAYF,EAAe,CAACG,MAAM,IAE1DnB,EAASM,QAAQH,SAAW,IAAIiB,kBAAiB,KAC/C,GAAIpB,EAASM,QAAQJ,WAAaX,EAAO0B,SAAU,KACjDI,EAAyB,QAAzBA,EAAArB,EAASM,QAAQH,gBAAjB,IAAAkB,GAAAA,EAA2Bd,aAC3B,IAAIe,EAAkB/B,IAAWgC,SAASC,cAAgB,KAAOD,SAASC,cAC1EjC,EAAOkC,cAAc,IAAIC,WAAW,OAAQ,CAACjC,cAAe6B,KAC5D/B,EAAOkC,cAAc,IAAIC,WAAW,WAAY,CAAChC,SAAS,EAAMD,cAAe6B,IACjF,KAGFtB,EAASM,QAAQH,SAASwB,QAAQpC,EAAQ,CAACqC,YAAY,EAAMC,gBAAiB,CAAC,aACjF,IACC,CAACrB,GACN"}