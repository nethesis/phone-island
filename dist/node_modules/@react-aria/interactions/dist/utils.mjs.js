"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("react"),t=require("../../utils/dist/useLayoutEffect.mjs.js"),r=require("../../utils/dist/useEffectEvent.mjs.js");require("../../utils/dist/runAfterTransition.mjs.js");class s{isDefaultPrevented(){return this.nativeEvent.defaultPrevented}preventDefault(){this.defaultPrevented=!0,this.nativeEvent.preventDefault()}stopPropagation(){this.nativeEvent.stopPropagation(),this.isPropagationStopped=()=>!0}isPropagationStopped(){return!1}persist(){}constructor(e,t){this.nativeEvent=t,this.target=t.target,this.currentTarget=t.currentTarget,this.relatedTarget=t.relatedTarget,this.bubbles=t.bubbles,this.cancelable=t.cancelable,this.defaultPrevented=t.defaultPrevented,this.eventPhase=t.eventPhase,this.isTrusted=t.isTrusted,this.timeStamp=t.timeStamp,this.type=e}}exports.SyntheticFocusEvent=s,exports.useSyntheticBlurEvent=function(n){let u=e.useRef({isFocused:!1,observer:null});t.useLayoutEffect((()=>{const e=u.current;return()=>{e.observer&&(e.observer.disconnect(),e.observer=null)}}),[]);let i=r.useEffectEvent((e=>{null==n||n(e)}));return e.useCallback((e=>{if(e.target instanceof HTMLButtonElement||e.target instanceof HTMLInputElement||e.target instanceof HTMLTextAreaElement||e.target instanceof HTMLSelectElement){u.current.isFocused=!0;let t=e.target,r=e=>{u.current.isFocused=!1,t.disabled&&i(new s("blur",e)),u.current.observer&&(u.current.observer.disconnect(),u.current.observer=null)};t.addEventListener("focusout",r,{once:!0}),u.current.observer=new MutationObserver((()=>{if(u.current.isFocused&&t.disabled){var e;null===(e=u.current.observer)||void 0===e||e.disconnect();let r=t===document.activeElement?null:document.activeElement;t.dispatchEvent(new FocusEvent("blur",{relatedTarget:r})),t.dispatchEvent(new FocusEvent("focusout",{bubbles:!0,relatedTarget:r}))}})),u.current.observer.observe(t,{attributes:!0,attributeFilter:["disabled"]})}}),[i])};
//# sourceMappingURL=utils.mjs.js.map
