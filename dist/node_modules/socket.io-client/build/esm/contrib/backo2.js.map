{"version":3,"file":"backo2.js","sources":["../../../../../../node_modules/socket.io-client/build/esm/contrib/backo2.js"],"sourcesContent":["/**\n * Initialize backoff timer with `opts`.\n *\n * - `min` initial timeout in milliseconds [100]\n * - `max` max timeout [10000]\n * - `jitter` [0]\n * - `factor` [2]\n *\n * @param {Object} opts\n * @api public\n */\nexport function Backoff(opts) {\n    opts = opts || {};\n    this.ms = opts.min || 100;\n    this.max = opts.max || 10000;\n    this.factor = opts.factor || 2;\n    this.jitter = opts.jitter > 0 && opts.jitter <= 1 ? opts.jitter : 0;\n    this.attempts = 0;\n}\n/**\n * Return the backoff duration.\n *\n * @return {Number}\n * @api public\n */\nBackoff.prototype.duration = function () {\n    var ms = this.ms * Math.pow(this.factor, this.attempts++);\n    if (this.jitter) {\n        var rand = Math.random();\n        var deviation = Math.floor(rand * this.jitter * ms);\n        ms = (Math.floor(rand * 10) & 1) == 0 ? ms - deviation : ms + deviation;\n    }\n    return Math.min(ms, this.max) | 0;\n};\n/**\n * Reset the number of attempts.\n *\n * @api public\n */\nBackoff.prototype.reset = function () {\n    this.attempts = 0;\n};\n/**\n * Set the minimum duration\n *\n * @api public\n */\nBackoff.prototype.setMin = function (min) {\n    this.ms = min;\n};\n/**\n * Set the maximum duration\n *\n * @api public\n */\nBackoff.prototype.setMax = function (max) {\n    this.max = max;\n};\n/**\n * Set the jitter\n *\n * @api public\n */\nBackoff.prototype.setJitter = function (jitter) {\n    this.jitter = jitter;\n};\n"],"names":["Backoff","opts","this","ms","min","max","factor","jitter","attempts","prototype","duration","Math","pow","rand","random","deviation","floor","reset","setMin","setMax","setJitter"],"mappings":"aAWO,SAASA,EAAQC,GACpBA,EAAOA,GAAQ,GACfC,KAAKC,GAAKF,EAAKG,KAAO,IACtBF,KAAKG,IAAMJ,EAAKI,KAAO,IACvBH,KAAKI,OAASL,EAAKK,QAAU,EAC7BJ,KAAKK,OAASN,EAAKM,OAAS,GAAKN,EAAKM,QAAU,EAAIN,EAAKM,OAAS,EAClEL,KAAKM,SAAW,CACpB,wDAOAR,EAAQS,UAAUC,SAAW,WACzB,IAAIP,EAAKD,KAAKC,GAAKQ,KAAKC,IAAIV,KAAKI,OAAQJ,KAAKM,YAC9C,GAAIN,KAAKK,OAAQ,CACb,IAAIM,EAAOF,KAAKG,SACZC,EAAYJ,KAAKK,MAAMH,EAAOX,KAAKK,OAASJ,GAChDA,EAA8B,EAAxBQ,KAAKK,MAAa,GAAPH,GAAwCV,EAAKY,EAAtBZ,EAAKY,CACjD,CACA,OAAgC,EAAzBJ,KAAKP,IAAID,EAAID,KAAKG,IAC7B,EAMAL,EAAQS,UAAUQ,MAAQ,WACtBf,KAAKM,SAAW,CACpB,EAMAR,EAAQS,UAAUS,OAAS,SAAUd,GACjCF,KAAKC,GAAKC,CACd,EAMAJ,EAAQS,UAAUU,OAAS,SAAUd,GACjCH,KAAKG,IAAMA,CACf,EAMAL,EAAQS,UAAUW,UAAY,SAAUb,GACpCL,KAAKK,OAASA,CAClB"}