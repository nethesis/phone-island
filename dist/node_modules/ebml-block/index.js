"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("./lib/buffer-reader.js").default;exports.default=function(r){var t={},n=new e(r);t.trackNumber=n.nextUIntV(),t.timecode=n.nextInt16BE();var f=n.nextUInt8();t.invisible=!!(8&f),t.keyframe=!!(128&f),t.discardable=!!(1&f);var u=(6&f)>>1;return t.frames=function(e,r){if(!r)return[e.nextBuffer()];var t,n,f=[],u=e.nextUInt8()+1;if(2===r){if(e.length%u!=0)throw new Error("Fixed-Size Lacing Error");for(n=e.length/u,t=0;t<u;t++)f.push(e.nextBuffer(n));return f}var i=[];if(1===r)for(t=0;t<u-1;t++){var a;n=0;do{n+=a=e.nextUInt8()}while(255===a);i.push(n)}else if(3===r)for(n=e.nextUIntV(),i.push(n),t=1;t<u-1;t++)n+=e.nextIntV(),i.push(n);for(t=0;t<u-1;t++)f.push(e.nextBuffer(i[t]));return f.push(e.nextBuffer()),f}(n,u),t};
//# sourceMappingURL=index.js.map
