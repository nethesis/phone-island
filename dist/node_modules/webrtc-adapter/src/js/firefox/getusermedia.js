"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("../utils.js");exports.shimGetUserMedia=function(t,o){const i=t&&t.navigator,n=t&&t.MediaStreamTrack;if(i.getUserMedia=function(t,o,n){e.deprecated("navigator.getUserMedia","navigator.mediaDevices.getUserMedia"),i.mediaDevices.getUserMedia(t).then(o,n)},!(o.version>55&&"autoGainControl"in i.mediaDevices.getSupportedConstraints())){const e=function(e,t,o){t in e&&!(o in e)&&(e[o]=e[t],delete e[t])},t=i.mediaDevices.getUserMedia.bind(i.mediaDevices);if(i.mediaDevices.getUserMedia=function(o){return"object"==typeof o&&"object"==typeof o.audio&&(o=JSON.parse(JSON.stringify(o)),e(o.audio,"autoGainControl","mozAutoGainControl"),e(o.audio,"noiseSuppression","mozNoiseSuppression")),t(o)},n&&n.prototype.getSettings){const t=n.prototype.getSettings;n.prototype.getSettings=function(){const o=t.apply(this,arguments);return e(o,"mozAutoGainControl","autoGainControl"),e(o,"mozNoiseSuppression","noiseSuppression"),o}}if(n&&n.prototype.applyConstraints){const t=n.prototype.applyConstraints;n.prototype.applyConstraints=function(o){return"audio"===this.kind&&"object"==typeof o&&(o=JSON.parse(JSON.stringify(o)),e(o,"autoGainControl","mozAutoGainControl"),e(o,"noiseSuppression","mozNoiseSuppression")),t.apply(this,[o])}}}};
//# sourceMappingURL=getusermedia.js.map
