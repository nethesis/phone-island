"use strict";function e(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];if("production"!==process.env.NODE_ENV){var o=U[e],i=o?"function"==typeof o?o.apply(null,r):o:"unknown error nr: "+e;throw Error("[Immer] "+i)}throw Error("[Immer] minified error nr: "+e+(r.length?" "+r.map((function(e){return"'"+e+"'"})).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function t(e){return!!e&&!!e[V]}function r(e){var t;return!!e&&(function(e){if(!e||"object"!=typeof e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;var r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return r===Object||"function"==typeof r&&Function.toString.call(r)===W}(e)||Array.isArray(e)||!!e[K]||!!(null===(t=e.constructor)||void 0===t?void 0:t[K])||a(e)||c(e))}function n(e,t,r){void 0===r&&(r=!1),0===o(e)?(r?Object.keys:$)(e).forEach((function(n){r&&"symbol"==typeof n||t(n,e[n],e)})):e.forEach((function(r,n){return t(n,r,e)}))}function o(e){var t=e[V];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:a(e)?2:c(e)?3:0}function i(e,t){return 2===o(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function u(e,t,r){var n=o(e);2===n?e.set(t,r):3===n?(e.delete(t),e.add(r)):e[t]=r}function a(e){return M&&e instanceof Map}function c(e){return R&&e instanceof Set}function f(e){return e.o||e.t}function s(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=G(e);delete t[V];for(var r=$(t),n=0;n<r.length;n++){var o=r[n],i=t[o];!1===i.writable&&(i.writable=!0,i.configurable=!0),(i.get||i.set)&&(t[o]={configurable:!0,writable:!0,enumerable:i.enumerable,value:e[o]})}return Object.create(Object.getPrototypeOf(e),t)}function l(e,i){return void 0===i&&(i=!1),d(e)||t(e)||!r(e)||(o(e)>1&&(e.set=e.add=e.clear=e.delete=p),Object.freeze(e),i&&n(e,(function(e,t){return l(t,!0)}),!0)),e}function p(){e(2)}function d(e){return null==e||"object"!=typeof e||Object.isFrozen(e)}function y(t){var r=J[t];return r||e(18,t),r}function v(){return"production"===process.env.NODE_ENV||k||e(0),k}function h(e,t){t&&(y("Patches"),e.u=[],e.s=[],e.v=t)}function b(e){m(e),e.p.forEach(P),e.p=null}function m(e){e===k&&(k=e.l)}function g(e){return k={p:[],l:k,h:e,m:!0,_:0}}function P(e){var t=e[V];0===t.i||1===t.i?t.j():t.O=!0}function O(t,n){n._=n.p.length;var o=n.p[0],i=void 0!==t&&t!==o;return n.h.g||y("ES5").S(n,t,i),i?(o[V].P&&(b(n),e(4)),r(t)&&(t=j(n,t),n.l||x(n,t)),n.u&&y("Patches").M(o[V].t,t,n.u,n.s)):t=j(n,o,[]),b(n),n.u&&n.v(n.u,n.s),t!==C?t:void 0}function j(e,t,r){if(d(t))return t;var o=t[V];if(!o)return n(t,(function(n,i){return w(e,o,t,n,i,r)}),!0),t;if(o.A!==e)return t;if(!o.P)return x(e,o.t,!0),o.t;if(!o.I){o.I=!0,o.A._--;var i=4===o.i||5===o.i?o.o=s(o.k):o.o;n(3===o.i?new Set(i):i,(function(t,n){return w(e,o,i,t,n,r)})),x(e,i,!1),r&&e.u&&y("Patches").R(o,r,e.u,e.s)}return o.o}function w(n,o,a,c,f,s){if("production"!==process.env.NODE_ENV&&f===a&&e(5),t(f)){var l=j(n,f,s&&o&&3!==o.i&&!i(o.D,c)?s.concat(c):void 0);if(u(a,c,l),!t(l))return;n.m=!1}if(r(f)&&!d(f)){if(!n.h.F&&n._<1)return;j(n,f),o&&o.A.l||x(n,f)}}function x(e,t,r){void 0===r&&(r=!1),e.h.F&&e.m&&l(t,r)}function D(e,t){var r=e[V];return(r?f(r):e)[t]}function A(e,t){if(t in e)for(var r=Object.getPrototypeOf(e);r;){var n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=Object.getPrototypeOf(r)}}function E(e){e.P||(e.P=!0,e.l&&E(e.l))}function _(e){e.o||(e.o=s(e.t))}function I(e,t,r){var n=a(t)?y("MapSet").N(t,r):c(t)?y("MapSet").T(t,r):e.g?function(e,t){var r=Array.isArray(e),n={i:r?1:0,A:t?t.A:v(),P:!1,I:!1,D:{},l:t,t:e,k:null,o:null,j:null,C:!1},o=n,i=X;r&&(o=[n],i=q);var u=Proxy.revocable(o,i),a=u.revoke,c=u.proxy;return n.k=c,n.j=a,c}(t,r):y("ES5").J(t,r);return(r?r.A:v()).p.push(n),n}function S(i){return t(i)||e(22,i),function e(t){if(!r(t))return t;var i,a=t[V],c=o(t);if(a){if(!a.P&&(a.i<4||!y("ES5").K(a)))return a.t;a.I=!0,i=N(t,c),a.I=!1}else i=N(t,c);return n(i,(function(t,r){a&&function(e,t){return 2===o(e)?e.get(t):e[t]}(a.t,t)===r||u(i,t,e(r))})),3===c?new Set(i):i}(i)}function N(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return s(e)}Object.defineProperty(exports,"__esModule",{value:!0});var F,k,z="undefined"!=typeof Symbol&&"symbol"==typeof Symbol("x"),M="undefined"!=typeof Map,R="undefined"!=typeof Set,T="undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,C=z?Symbol.for("immer-nothing"):((F={})["immer-nothing"]=!0,F),K=z?Symbol.for("immer-draftable"):"__$immer_draftable",V=z?Symbol.for("immer-state"):"__$immer_state",U={0:"Illegal state",1:"Immer drafts cannot have computed properties",2:"This object has been frozen and should not be mutated",3:function(e){return"Cannot use a proxy that has been revoked. Did you pass an object from inside an immer function to an async process? "+e},4:"An immer producer returned a new value *and* modified its draft. Either return a new value *or* modify the draft.",5:"Immer forbids circular references",6:"The first or second argument to `produce` must be a function",7:"The third argument to `produce` must be a function or undefined",8:"First argument to `createDraft` must be a plain object, an array, or an immerable object",9:"First argument to `finishDraft` must be a draft returned by `createDraft`",10:"The given draft is already finalized",11:"Object.defineProperty() cannot be used on an Immer draft",12:"Object.setPrototypeOf() cannot be used on an Immer draft",13:"Immer only supports deleting array indices",14:"Immer only supports setting array indices and the 'length' property",15:function(e){return"Cannot apply patch, path doesn't resolve: "+e},16:'Sets cannot have "replace" patches.',17:function(e){return"Unsupported patch operation: "+e},18:function(e){return"The plugin for '"+e+"' has not been loaded into Immer. To enable the plugin, import and call `enable"+e+"()` when initializing your application."},20:"Cannot use proxies if Proxy, Proxy.revocable or Reflect are not available",21:function(e){return"produce can only be called on things that are draftable: plain objects, arrays, Map, Set or classes that are marked with '[immerable]: true'. Got '"+e+"'"},22:function(e){return"'current' expects a draft, got: "+e},23:function(e){return"'original' expects a draft, got: "+e},24:"Patching reserved attributes like __proto__, prototype and constructor is not allowed"},W=""+Object.prototype.constructor,$="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,G=Object.getOwnPropertyDescriptors||function(e){var t={};return $(e).forEach((function(r){t[r]=Object.getOwnPropertyDescriptor(e,r)})),t},J={},X={get:function(e,t){if(t===V)return e;var n=f(e);if(!i(n,t))return function(e,t,r){var n,o=A(t,r);return o?"value"in o?o.value:null===(n=o.get)||void 0===n?void 0:n.call(e.k):void 0}(e,n,t);var o=n[t];return e.I||!r(o)?o:o===D(e.t,t)?(_(e),e.o[t]=I(e.A.h,o,e)):o},has:function(e,t){return t in f(e)},ownKeys:function(e){return Reflect.ownKeys(f(e))},set:function(e,t,r){var n=A(f(e),t);if(null==n?void 0:n.set)return n.set.call(e.k,r),!0;if(!e.P){var o=D(f(e),t),u=null==o?void 0:o[V];if(u&&u.t===r)return e.o[t]=r,e.D[t]=!1,!0;if(function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}(r,o)&&(void 0!==r||i(e.t,t)))return!0;_(e),E(e)}return e.o[t]===r&&"number"!=typeof r&&(void 0!==r||t in e.o)||(e.o[t]=r,e.D[t]=!0,!0)},deleteProperty:function(e,t){return void 0!==D(e.t,t)||t in e.t?(e.D[t]=!1,_(e),E(e)):delete e.D[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var r=f(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n?{writable:!0,configurable:1!==e.i||"length"!==t,enumerable:n.enumerable,value:r[t]}:n},defineProperty:function(){e(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){e(12)}},q={};n(X,(function(e,t){q[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),q.deleteProperty=function(t,r){return"production"!==process.env.NODE_ENV&&isNaN(parseInt(r))&&e(13),q.set.call(this,t,r,void 0)},q.set=function(t,r,n){return"production"!==process.env.NODE_ENV&&"length"!==r&&isNaN(parseInt(r))&&e(14),X.set.call(this,t[0],r,n,t[0])};var B=function(){function n(t){var n=this;this.g=T,this.F=!0,this.produce=function(t,o,i){if("function"==typeof t&&"function"!=typeof o){var u=o;o=t;var a=n;return function(e){var t=this;void 0===e&&(e=u);for(var r=arguments.length,n=Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return a.produce(e,(function(e){var r;return(r=o).call.apply(r,[t,e].concat(n))}))}}var c;if("function"!=typeof o&&e(6),void 0!==i&&"function"!=typeof i&&e(7),r(t)){var f=g(n),s=I(n,t,void 0),p=!0;try{c=o(s),p=!1}finally{p?b(f):m(f)}return"undefined"!=typeof Promise&&c instanceof Promise?c.then((function(e){return h(f,i),O(e,f)}),(function(e){throw b(f),e})):(h(f,i),O(c,f))}if(!t||"object"!=typeof t){if(void 0===(c=o(t))&&(c=t),c===C&&(c=void 0),n.F&&l(c,!0),i){var d=[],v=[];y("Patches").M(t,c,d,v),i(d,v)}return c}e(21,t)},this.produceWithPatches=function(e,t){if("function"==typeof e)return function(t){for(var r=arguments.length,o=Array(r>1?r-1:0),i=1;i<r;i++)o[i-1]=arguments[i];return n.produceWithPatches(t,(function(t){return e.apply(void 0,[t].concat(o))}))};var r,o,i=n.produce(e,t,(function(e,t){r=e,o=t}));return"undefined"!=typeof Promise&&i instanceof Promise?i.then((function(e){return[e,r,o]})):[i,r,o]},"boolean"==typeof(null==t?void 0:t.useProxies)&&this.setUseProxies(t.useProxies),"boolean"==typeof(null==t?void 0:t.autoFreeze)&&this.setAutoFreeze(t.autoFreeze)}var o=n.prototype;return o.createDraft=function(n){r(n)||e(8),t(n)&&(n=S(n));var o=g(this),i=I(this,n,void 0);return i[V].C=!0,m(o),i},o.finishDraft=function(t,r){var n=t&&t[V];"production"!==process.env.NODE_ENV&&(n&&n.C||e(9),n.I&&e(10));var o=n.A;return h(o,r),O(void 0,o)},o.setAutoFreeze=function(e){this.F=e},o.setUseProxies=function(t){t&&!T&&e(20),this.g=t},o.applyPatches=function(e,r){var n;for(n=r.length-1;n>=0;n--){var o=r[n];if(0===o.path.length&&"replace"===o.op){e=o.value;break}}n>-1&&(r=r.slice(n+1));var i=y("Patches").$;return t(e)?i(e,r):this.produce(e,(function(e){return i(e,r)}))},n}(),H=new B,L=H.produce;H.produceWithPatches.bind(H);var Q=H.setAutoFreeze.bind(H);H.setUseProxies.bind(H),H.applyPatches.bind(H),H.createDraft.bind(H),H.finishDraft.bind(H);var Y=L;exports.Immer=B,exports.current=S,exports.default=Y,exports.freeze=l,exports.immerable=K,exports.isDraft=t,exports.isDraftable=r,exports.nothing=C,exports.produce=L,exports.setAutoFreeze=Q;
//# sourceMappingURL=immer.esm.mjs.js.map
