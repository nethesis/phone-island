{"version":3,"file":"make-none-animatable.mjs.js","sources":["../../../../../../../../node_modules/motion-dom/dist/es/animation/keyframes/utils/make-none-animatable.mjs"],"sourcesContent":["import { analyseComplexValue } from '../../../value/types/complex/index.mjs';\nimport { getAnimatableNone } from '../../../value/types/utils/animatable-none.mjs';\n\n/**\n * If we encounter keyframes like \"none\" or \"0\" and we also have keyframes like\n * \"#fff\" or \"200px 200px\" we want to find a keyframe to serve as a template for\n * the \"none\" keyframes. In this case \"#fff\" or \"200px 200px\" - then these get turned into\n * zero equivalents, i.e. \"#fff0\" or \"0px 0px\".\n */\nconst invalidTemplates = new Set([\"auto\", \"none\", \"0\"]);\nfunction makeNoneKeyframesAnimatable(unresolvedKeyframes, noneKeyframeIndexes, name) {\n    let i = 0;\n    let animatableTemplate = undefined;\n    while (i < unresolvedKeyframes.length && !animatableTemplate) {\n        const keyframe = unresolvedKeyframes[i];\n        if (typeof keyframe === \"string\" &&\n            !invalidTemplates.has(keyframe) &&\n            analyseComplexValue(keyframe).values.length) {\n            animatableTemplate = unresolvedKeyframes[i];\n        }\n        i++;\n    }\n    if (animatableTemplate && name) {\n        for (const noneIndex of noneKeyframeIndexes) {\n            unresolvedKeyframes[noneIndex] = getAnimatableNone(name, animatableTemplate);\n        }\n    }\n}\n\nexport { makeNoneKeyframesAnimatable };\n"],"names":["invalidTemplates","Set","unresolvedKeyframes","noneKeyframeIndexes","name","animatableTemplate","i","length","keyframe","has","analyseComplexValue","values","noneIndex","getAnimatableNone"],"mappings":"8LASA,MAAMA,EAAmB,IAAIC,IAAI,CAAC,OAAQ,OAAQ,0CAClD,SAAqCC,EAAqBC,EAAqBC,GAC3E,IACIC,EADAC,EAAI,EAER,KAAOA,EAAIJ,EAAoBK,SAAWF,GAAoB,CAC1D,MAAMG,EAAWN,EAAoBI,GACb,iBAAbE,IACNR,EAAiBS,IAAID,IACtBE,sBAAoBF,GAAUG,OAAOJ,SACrCF,EAAqBH,EAAoBI,IAE7CA,GACJ,CACA,GAAID,GAAsBD,EACtB,IAAK,MAAMQ,KAAaT,EACpBD,EAAoBU,GAAaC,EAAiBA,kBAACT,EAAMC,EAGrE"}