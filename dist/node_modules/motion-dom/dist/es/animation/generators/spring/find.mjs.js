"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var s=require("./defaults.mjs.js"),t=require("../../../../../../motion-utils/dist/es/errors.mjs.js"),e=require("../../../../../../motion-utils/dist/es/time-conversion.mjs.js"),n=require("../../../../../../motion-utils/dist/es/clamp.mjs.js");const i=.001;const r=12;function o(s,t){return s*Math.sqrt(1-t*t)}exports.calcAngularFreq=o,exports.findSpring=function({duration:a=s.springDefaults.duration,bounce:u=s.springDefaults.bounce,velocity:l=s.springDefaults.velocity,mass:p=s.springDefaults.mass}){let c,f;t.warning(a<=e.secondsToMilliseconds(s.springDefaults.maxDuration),"Spring duration must be 10 seconds or less");let m=1-u;m=n.clamp(s.springDefaults.minDamping,s.springDefaults.maxDamping,m),a=n.clamp(s.springDefaults.minDuration,s.springDefaults.maxDuration,e.millisecondsToSeconds(a)),m<1?(c=s=>{const t=s*m,e=t*a,n=t-l,r=o(s,m),u=Math.exp(-e);return i-n/r*u},f=s=>{const t=s*m*a,e=t*l+l,n=Math.pow(m,2)*Math.pow(s,2)*a,r=Math.exp(-t),u=o(Math.pow(s,2),m);return(-c(s)+i>0?-1:1)*((e-n)*r)/u}):(c=s=>Math.exp(-s*a)*((s-l)*a+1)-.001,f=s=>Math.exp(-s*a)*(a*a*(l-s)));const d=function(s,t,e){let n=e;for(let e=1;e<r;e++)n-=s(n)/t(n);return n}(c,f,5/a);if(a=e.secondsToMilliseconds(a),isNaN(d))return{stiffness:s.springDefaults.stiffness,damping:s.springDefaults.damping,duration:a};{const s=Math.pow(d,2)*p;return{stiffness:s,damping:2*m*Math.sqrt(p*s),duration:a}}};
//# sourceMappingURL=find.mjs.js.map
