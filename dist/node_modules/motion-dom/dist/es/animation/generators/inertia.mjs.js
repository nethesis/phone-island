"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("./spring/index.mjs.js"),t=require("./utils/velocity.mjs.js");exports.inertia=function({keyframes:s,velocity:a=0,power:n=.8,timeConstant:o=325,bounceDamping:i=10,bounceStiffness:r=500,modifyTarget:l,min:u,max:v,restDelta:c=.5,restSpeed:d}){const p=s[0],m={done:!1,value:p},f=e=>void 0===u?v:void 0===v||Math.abs(u-e)<Math.abs(v-e)?u:v;let y=n*a;const x=p+y,b=void 0===l?x:l(x);b!==x&&(y=b-p);const g=e=>-y*Math.exp(-e/o),j=e=>b+g(e),M=e=>{const t=g(e),s=j(e);m.done=Math.abs(t)<=c,m.value=m.done?b:s};let h,D;const S=s=>{var a;(a=m.value,void 0!==u&&a<u||void 0!==v&&a>v)&&(h=s,D=e.spring({keyframes:[m.value,f(m.value)],velocity:t.calcGeneratorVelocity(j,s,m.value),damping:i,stiffness:r,restDelta:c,restSpeed:d}))};return S(0),{calculatedDuration:null,next:e=>{let t=!1;return D||void 0!==h||(t=!0,M(e),S(e)),void 0!==h&&e>=h?D.next(e-h):(!t&&M(e),m)}}};
//# sourceMappingURL=inertia.mjs.js.map
