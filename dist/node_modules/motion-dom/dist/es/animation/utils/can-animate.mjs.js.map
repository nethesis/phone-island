{"version":3,"file":"can-animate.mjs.js","sources":["../../../../../../../node_modules/motion-dom/dist/es/animation/utils/can-animate.mjs"],"sourcesContent":["import { warning } from 'motion-utils';\nimport { isGenerator } from '../generators/utils/is-generator.mjs';\nimport { isAnimatable } from './is-animatable.mjs';\n\nfunction hasKeyframesChanged(keyframes) {\n    const current = keyframes[0];\n    if (keyframes.length === 1)\n        return true;\n    for (let i = 0; i < keyframes.length; i++) {\n        if (keyframes[i] !== current)\n            return true;\n    }\n}\nfunction canAnimate(keyframes, name, type, velocity) {\n    /**\n     * Check if we're able to animate between the start and end keyframes,\n     * and throw a warning if we're attempting to animate between one that's\n     * animatable and another that isn't.\n     */\n    const originKeyframe = keyframes[0];\n    if (originKeyframe === null)\n        return false;\n    /**\n     * These aren't traditionally animatable but we do support them.\n     * In future we could look into making this more generic or replacing\n     * this function with mix() === mixImmediate\n     */\n    if (name === \"display\" || name === \"visibility\")\n        return true;\n    const targetKeyframe = keyframes[keyframes.length - 1];\n    const isOriginAnimatable = isAnimatable(originKeyframe, name);\n    const isTargetAnimatable = isAnimatable(targetKeyframe, name);\n    warning(isOriginAnimatable === isTargetAnimatable, `You are trying to animate ${name} from \"${originKeyframe}\" to \"${targetKeyframe}\". ${originKeyframe} is not an animatable value - to enable this animation set ${originKeyframe} to a value animatable to ${targetKeyframe} via the \\`style\\` property.`);\n    // Always skip if any of these are true\n    if (!isOriginAnimatable || !isTargetAnimatable) {\n        return false;\n    }\n    return (hasKeyframesChanged(keyframes) ||\n        ((type === \"spring\" || isGenerator(type)) && velocity));\n}\n\nexport { canAnimate };\n"],"names":["keyframes","name","type","velocity","originKeyframe","targetKeyframe","length","isOriginAnimatable","isAnimatable","isTargetAnimatable","warning","current","i","hasKeyframesChanged","isGenerator"],"mappings":"mPAaA,SAAoBA,EAAWC,EAAMC,EAAMC,GAMvC,MAAMC,EAAiBJ,EAAU,GACjC,GAAuB,OAAnBI,EACA,OAAO,EAMX,GAAa,YAATH,GAA+B,eAATA,EACtB,OAAO,EACX,MAAMI,EAAiBL,EAAUA,EAAUM,OAAS,GAC9CC,EAAqBC,EAAAA,aAAaJ,EAAgBH,GAClDQ,EAAqBD,EAAAA,aAAaH,EAAgBJ,GAGxD,OAFAS,EAAOA,QAACH,IAAuBE,EAAoB,6BAA6BR,WAAcG,UAAuBC,OAAoBD,+DAA4EA,8BAA2CC,oCAE3PE,IAAuBE,KA9BhC,SAA6BT,GACzB,MAAMW,EAAUX,EAAU,GAC1B,GAAyB,IAArBA,EAAUM,OACV,OAAO,EACX,IAAK,IAAIM,EAAI,EAAGA,EAAIZ,EAAUM,OAAQM,IAClC,GAAIZ,EAAUY,KAAOD,EACjB,OAAO,CAEnB,CAyBYE,CAAoBb,KACb,WAATE,GAAqBY,EAAWA,YAACZ,KAAUC,EACrD"}