{"version":3,"file":"start-waapi-animation.mjs.js","sources":["../../../../../../../node_modules/motion-dom/dist/es/animation/waapi/start-waapi-animation.mjs"],"sourcesContent":["import { activeAnimations } from '../../stats/animation-count.mjs';\nimport { statsBuffer } from '../../stats/buffer.mjs';\nimport { mapEasingToNativeEasing } from './easing/map-easing.mjs';\n\nfunction startWaapiAnimation(element, valueName, keyframes, { delay = 0, duration = 300, repeat = 0, repeatType = \"loop\", ease = \"easeOut\", times, } = {}, pseudoElement = undefined) {\n    const keyframeOptions = {\n        [valueName]: keyframes,\n    };\n    if (times)\n        keyframeOptions.offset = times;\n    const easing = mapEasingToNativeEasing(ease, duration);\n    /**\n     * If this is an easing array, apply to keyframes, not animation as a whole\n     */\n    if (Array.isArray(easing))\n        keyframeOptions.easing = easing;\n    if (statsBuffer.value) {\n        activeAnimations.waapi++;\n    }\n    const options = {\n        delay,\n        duration,\n        easing: !Array.isArray(easing) ? easing : \"linear\",\n        fill: \"both\",\n        iterations: repeat + 1,\n        direction: repeatType === \"reverse\" ? \"alternate\" : \"normal\",\n    };\n    if (pseudoElement)\n        options.pseudoElement = pseudoElement;\n    const animation = element.animate(keyframeOptions, options);\n    if (statsBuffer.value) {\n        animation.finished.finally(() => {\n            activeAnimations.waapi--;\n        });\n    }\n    return animation;\n}\n\nexport { startWaapiAnimation };\n"],"names":["element","valueName","keyframes","delay","duration","repeat","repeatType","ease","times","pseudoElement","undefined","keyframeOptions","offset","easing","mapEasingToNativeEasing","Array","isArray","options","fill","iterations","direction","animate"],"mappings":"4IAIA,SAA6BA,EAASC,EAAWC,GAAWC,MAAEA,EAAQ,EAACC,SAAEA,EAAW,IAAGC,OAAEA,EAAS,EAACC,WAAEA,EAAa,OAAMC,KAAEA,EAAO,UAASC,MAAEA,GAAW,CAAE,EAAEC,OAAgBC,GACvK,MAAMC,EAAkB,CACpBV,CAACA,GAAYC,GAEbM,IACAG,EAAgBC,OAASJ,GAC7B,MAAMK,EAASC,EAAAA,wBAAwBP,EAAMH,GAIzCW,MAAMC,QAAQH,KACdF,EAAgBE,OAASA,GAI7B,MAAMI,EAAU,CACZd,QACAC,WACAS,OAASE,MAAMC,QAAQH,GAAmB,SAATA,EACjCK,KAAM,OACNC,WAAYd,EAAS,EACrBe,UAA0B,YAAfd,EAA2B,YAAc,UAUxD,OARIG,IACAQ,EAAQR,cAAgBA,GACVT,EAAQqB,QAAQV,EAAiBM,EAOvD"}