{"version":3,"file":"keyboard.mjs.js","sources":["../../../../../../../../node_modules/motion-dom/dist/es/gestures/press/utils/keyboard.mjs"],"sourcesContent":["import { isPressing } from './state.mjs';\n\n/**\n * Filter out events that are not \"Enter\" keys.\n */\nfunction filterEvents(callback) {\n    return (event) => {\n        if (event.key !== \"Enter\")\n            return;\n        callback(event);\n    };\n}\nfunction firePointerEvent(target, type) {\n    target.dispatchEvent(new PointerEvent(\"pointer\" + type, { isPrimary: true, bubbles: true }));\n}\nconst enableKeyboardPress = (focusEvent, eventOptions) => {\n    const element = focusEvent.currentTarget;\n    if (!element)\n        return;\n    const handleKeydown = filterEvents(() => {\n        if (isPressing.has(element))\n            return;\n        firePointerEvent(element, \"down\");\n        const handleKeyup = filterEvents(() => {\n            firePointerEvent(element, \"up\");\n        });\n        const handleBlur = () => firePointerEvent(element, \"cancel\");\n        element.addEventListener(\"keyup\", handleKeyup, eventOptions);\n        element.addEventListener(\"blur\", handleBlur, eventOptions);\n    });\n    element.addEventListener(\"keydown\", handleKeydown, eventOptions);\n    /**\n     * Add an event listener that fires on blur to remove the keydown events.\n     */\n    element.addEventListener(\"blur\", () => element.removeEventListener(\"keydown\", handleKeydown), eventOptions);\n};\n\nexport { enableKeyboardPress };\n"],"names":["filterEvents","callback","event","key","firePointerEvent","target","type","dispatchEvent","PointerEvent","isPrimary","bubbles","enableKeyboardPress","focusEvent","eventOptions","element","currentTarget","handleKeydown","isPressing","has","handleKeyup","addEventListener","handleBlur","removeEventListener"],"mappings":"oGAKA,SAASA,EAAaC,GAClB,OAAQC,IACc,UAAdA,EAAMC,KAEVF,EAASC,EAAM,CAEvB,CACA,SAASE,EAAiBC,EAAQC,GAC9BD,EAAOE,cAAc,IAAIC,aAAa,UAAYF,EAAM,CAAEG,WAAW,EAAMC,SAAS,IACxF,6BAC4BC,CAACC,EAAYC,KACrC,MAAMC,EAAUF,EAAWG,cAC3B,IAAKD,EACD,OACJ,MAAME,EAAgBhB,GAAa,KAC/B,GAAIiB,aAAWC,IAAIJ,GACf,OACJV,EAAiBU,EAAS,QAC1B,MAAMK,EAAcnB,GAAa,KAC7BI,EAAiBU,EAAS,KAAK,IAGnCA,EAAQM,iBAAiB,QAASD,EAAaN,GAC/CC,EAAQM,iBAAiB,QAFNC,IAAMjB,EAAiBU,EAAS,WAEND,EAAa,IAE9DC,EAAQM,iBAAiB,UAAWJ,EAAeH,GAInDC,EAAQM,iBAAiB,QAAQ,IAAMN,EAAQQ,oBAAoB,UAAWN,IAAgBH,EAAa"}