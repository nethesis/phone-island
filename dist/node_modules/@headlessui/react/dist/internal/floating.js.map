{"version":3,"file":"floating.js","sources":["../../../../../../node_modules/@headlessui/react/dist/internal/floating.js"],"sourcesContent":["import{autoUpdate as Z,flip as ee,inner as te,offset as ne,shift as le,size as re,useFloating as oe,useInnerOffset as ie,useInteractions as se}from\"@floating-ui/react\";import*as j from\"react\";import{createContext as _,useCallback as ae,useContext as R,useMemo as M,useRef as ue,useState as A}from\"react\";import{useDisposables as fe}from'../hooks/use-disposables.js';import{useEvent as z}from'../hooks/use-event.js';import{useIsoMorphicEffect as C}from'../hooks/use-iso-morphic-effect.js';let y=_({styles:void 0,setReference:()=>{},setFloating:()=>{},getReferenceProps:()=>({}),getFloatingProps:()=>({}),slot:{}});y.displayName=\"FloatingContext\";let H=_(null);H.displayName=\"PlacementContext\";function xe(e){return M(()=>e?typeof e==\"string\"?{to:e}:e:null,[e])}function ye(){return R(y).setReference}function Fe(){return R(y).getReferenceProps}function be(){let{getFloatingProps:e,slot:t}=R(y);return ae((...n)=>Object.assign({},e(...n),{\"data-anchor\":t.anchor}),[e,t])}function Re(e=null){e===!1&&(e=null),typeof e==\"string\"&&(e={to:e});let t=R(H),n=M(()=>e,[JSON.stringify(e,(r,o)=>{var u;return(u=o==null?void 0:o.outerHTML)!=null?u:o})]);C(()=>{t==null||t(n!=null?n:null)},[t,n]);let l=R(y);return M(()=>[l.setFloating,e?l.styles:{}],[l.setFloating,e,l.styles])}let q=4;function Me({children:e,enabled:t=!0}){let[n,l]=A(null),[r,o]=A(0),u=ue(null),[f,s]=A(null);pe(f);let i=t&&n!==null&&f!==null,{to:F=\"bottom\",gap:E=0,offset:v=0,padding:c=0,inner:P}=ce(n,f),[a,p=\"center\"]=F.split(\" \");C(()=>{i&&o(0)},[i]);let{refs:b,floatingStyles:w,context:g}=oe({open:i,placement:a===\"selection\"?p===\"center\"?\"bottom\":`bottom-${p}`:p===\"center\"?`${a}`:`${a}-${p}`,strategy:\"absolute\",transform:!1,middleware:[ne({mainAxis:a===\"selection\"?0:E,crossAxis:v}),le({padding:c}),a!==\"selection\"&&ee({padding:c}),a===\"selection\"&&P?te({...P,padding:c,overflowRef:u,offset:r,minItemsVisible:q,referenceOverflowThreshold:c,onFallbackChange(h){var O,W;if(!h)return;let d=g.elements.floating;if(!d)return;let T=parseFloat(getComputedStyle(d).scrollPaddingBottom)||0,$=Math.min(q,d.childElementCount),L=0,N=0;for(let m of(W=(O=g.elements.floating)==null?void 0:O.childNodes)!=null?W:[])if(m instanceof HTMLElement){let x=m.offsetTop,k=x+m.clientHeight+T,S=d.scrollTop,U=S+d.clientHeight;if(x>=S&&k<=U)$--;else{N=Math.max(0,Math.min(k,U)-Math.max(x,S)),L=m.clientHeight;break}}$>=1&&o(m=>{let x=L*$-N+T;return m>=x?m:x})}}):null,re({padding:c,apply({availableWidth:h,availableHeight:d,elements:T}){Object.assign(T.floating.style,{overflow:\"auto\",maxWidth:`${h}px`,maxHeight:`min(var(--anchor-max-height, 100vh), ${d}px)`})}})].filter(Boolean),whileElementsMounted:Z}),[I=a,B=p]=g.placement.split(\"-\");a===\"selection\"&&(I=\"selection\");let G=M(()=>({anchor:[I,B].filter(Boolean).join(\" \")}),[I,B]),K=ie(g,{overflowRef:u,onChange:o}),{getReferenceProps:Q,getFloatingProps:X}=se([K]),Y=z(h=>{s(h),b.setFloating(h)});return j.createElement(H.Provider,{value:l},j.createElement(y.Provider,{value:{setFloating:Y,setReference:b.setReference,styles:w,getReferenceProps:Q,getFloatingProps:X,slot:G}},e))}function pe(e){C(()=>{if(!e)return;let t=new MutationObserver(()=>{let n=window.getComputedStyle(e).maxHeight,l=parseFloat(n);if(isNaN(l))return;let r=parseInt(n);isNaN(r)||l!==r&&(e.style.maxHeight=`${Math.ceil(l)}px`)});return t.observe(e,{attributes:!0,attributeFilter:[\"style\"]}),()=>{t.disconnect()}},[e])}function ce(e,t){var o,u,f;let n=V((o=e==null?void 0:e.gap)!=null?o:\"var(--anchor-gap, 0)\",t),l=V((u=e==null?void 0:e.offset)!=null?u:\"var(--anchor-offset, 0)\",t),r=V((f=e==null?void 0:e.padding)!=null?f:\"var(--anchor-padding, 0)\",t);return{...e,gap:n,offset:l,padding:r}}function V(e,t,n=void 0){let l=fe(),r=z((s,i)=>{if(s==null)return[n,null];if(typeof s==\"number\")return[s,null];if(typeof s==\"string\"){if(!i)return[n,null];let F=J(s,i);return[F,E=>{let v=D(s);{let c=v.map(P=>window.getComputedStyle(i).getPropertyValue(P));l.requestAnimationFrame(function P(){l.nextFrame(P);let a=!1;for(let[b,w]of v.entries()){let g=window.getComputedStyle(i).getPropertyValue(w);if(c[b]!==g){c[b]=g,a=!0;break}}if(!a)return;let p=J(s,i);F!==p&&(E(p),F=p)})}return l.dispose}]}return[n,null]}),o=M(()=>r(e,t)[0],[e,t]),[u=o,f]=A();return C(()=>{let[s,i]=r(e,t);if(f(s),!!i)return i(f)},[e,t]),u}function D(e){let t=/var\\((.*)\\)/.exec(e);if(t){let n=t[1].indexOf(\",\");if(n===-1)return[t[1]];let l=t[1].slice(0,n).trim(),r=t[1].slice(n+1).trim();return r?[l,...D(r)]:[l]}return[]}function J(e,t){let n=document.createElement(\"div\");t.appendChild(n),n.style.setProperty(\"margin-top\",\"0px\",\"important\"),n.style.setProperty(\"margin-top\",e,\"important\");let l=parseFloat(window.getComputedStyle(n).marginTop)||0;return t.removeChild(n),l}export{Me as FloatingProvider,Re as useFloatingPanel,be as useFloatingPanelProps,ye as useFloatingReference,Fe as useFloatingReferenceProps,xe as useResolvedAnchor};\n"],"names":["y","_","styles","setReference","setFloating","getReferenceProps","getFloatingProps","slot","displayName","H","V","e","t","n","l","fe","r","z","useEvent","s","i","F","J","E","v","D","c","map","P","window","getComputedStyle","getPropertyValue","requestAnimationFrame","nextFrame","a","b","w","entries","g","p","dispose","o","M","useMemo","u","f","A","useState","C","useIsoMorphicEffect","exec","indexOf","slice","trim","document","createElement","appendChild","style","setProperty","parseFloat","marginTop","removeChild","children","enabled","ue","useRef","MutationObserver","maxHeight","isNaN","parseInt","Math","ceil","observe","attributes","attributeFilter","disconnect","pe","to","gap","offset","padding","inner","ce","split","refs","floatingStyles","context","oe","open","placement","strategy","transform","middleware","ne","mainAxis","crossAxis","le","ee","te","overflowRef","minItemsVisible","referenceOverflowThreshold","onFallbackChange","h","O","W","d","elements","floating","T","scrollPaddingBottom","$","min","childElementCount","L","N","m","childNodes","HTMLElement","x","offsetTop","k","clientHeight","S","scrollTop","U","max","re","apply","availableWidth","availableHeight","Object","assign","overflow","maxWidth","filter","Boolean","whileElementsMounted","Z","I","B","G","anchor","join","K","ie","useInnerOffset","onChange","Q","X","se","useInteractions","Y","j","Provider","value","R","useContext","JSON","stringify","outerHTML","ae","useCallback"],"mappings":"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"}