{"version":3,"file":"use-inert-others.js","sources":["../../../../../../node_modules/@headlessui/react/dist/hooks/use-inert-others.js"],"sourcesContent":["import{disposables as M}from'../utils/disposables.js';import{getOwnerDocument as b}from'../utils/owner.js';import{useIsTopLayer as L}from'./use-is-top-layer.js';import{useIsoMorphicEffect as T}from'./use-iso-morphic-effect.js';let f=new Map,u=new Map;function h(t){var e;let r=(e=u.get(t))!=null?e:0;return u.set(t,r+1),r!==0?()=>m(t):(f.set(t,{\"aria-hidden\":t.getAttribute(\"aria-hidden\"),inert:t.inert}),t.setAttribute(\"aria-hidden\",\"true\"),t.inert=!0,()=>m(t))}function m(t){var i;let r=(i=u.get(t))!=null?i:1;if(r===1?u.delete(t):u.set(t,r-1),r!==1)return;let e=f.get(t);e&&(e[\"aria-hidden\"]===null?t.removeAttribute(\"aria-hidden\"):t.setAttribute(\"aria-hidden\",e[\"aria-hidden\"]),t.inert=e.inert,f.delete(t))}function y(t,{allowed:r,disallowed:e}={}){let i=L(t,\"inert-others\");T(()=>{var d,c;if(!i)return;let a=M();for(let n of(d=e==null?void 0:e())!=null?d:[])n&&a.add(h(n));let s=(c=r==null?void 0:r())!=null?c:[];for(let n of s){if(!n)continue;let l=b(n);if(!l)continue;let o=n.parentElement;for(;o&&o!==l.body;){for(let p of o.children)s.some(E=>p.contains(E))||a.add(h(p));o=o.parentElement}}return a.dispose},[i,r,e])}export{y as useInertOthers};\n"],"names":["f","Map","u","h","t","e","r","get","set","getAttribute","inert","setAttribute","m","i","delete","removeAttribute","allowed","disallowed","L","T","d","c","a","M","n","add","s","l","b","o","parentElement","body","p","children","some","E","contains","dispose"],"mappings":"wNAAmO,IAAIA,EAAE,IAAIC,IAAIC,EAAE,IAAID,IAAI,SAASE,EAAEC,GAAG,IAAIC,EAAE,IAAIC,EAAgB,OAAbD,EAAEH,EAAEK,IAAIH,IAAUC,EAAE,EAAE,OAAOH,EAAEM,IAAIJ,EAAEE,EAAE,GAAO,IAAJA,IAAgBN,EAAEQ,IAAIJ,EAAE,CAAC,cAAcA,EAAEK,aAAa,eAAeC,MAAMN,EAAEM,QAAQN,EAAEO,aAAa,cAAc,QAAQP,EAAEM,OAAM,GAA5H,IAAIE,EAAER,EAAkI,CAAC,SAASQ,EAAER,GAAG,IAAIS,EAAE,IAAIP,EAAgB,OAAbO,EAAEX,EAAEK,IAAIH,IAAUS,EAAE,EAAE,GAAO,IAAJP,EAAMJ,EAAEY,OAAOV,GAAGF,EAAEM,IAAIJ,EAAEE,EAAE,GAAO,IAAJA,EAAM,OAAO,IAAID,EAAEL,EAAEO,IAAIH,GAAGC,IAAuB,OAAnBA,EAAE,eAAsBD,EAAEW,gBAAgB,eAAeX,EAAEO,aAAa,cAAcN,EAAE,gBAAgBD,EAAEM,MAAML,EAAEK,MAAMV,EAAEc,OAAOV,GAAG,wBAAC,SAAWA,GAAGY,QAAQV,EAAEW,WAAWZ,GAAG,IAAI,IAAIQ,EAAEK,EAAAA,cAAEd,EAAE,gBAAgBe,EAAAA,qBAAE,KAAK,IAAIC,EAAEC,EAAE,IAAIR,EAAE,OAAO,IAAIS,EAAEC,EAAAA,cAAI,IAAI,IAAIC,KAA4B,OAAvBJ,EAAK,MAAHf,OAAQ,EAAOA,KAAWe,EAAE,GAAGI,GAAGF,EAAEG,IAAItB,EAAEqB,IAAI,IAAIE,EAA0B,OAAvBL,EAAK,MAAHf,OAAQ,EAAOA,KAAWe,EAAE,GAAG,IAAI,IAAIG,KAAKE,EAAE,CAAC,IAAIF,EAAE,SAAS,IAAIG,EAAEC,mBAAEJ,GAAG,IAAIG,EAAE,SAAS,IAAIE,EAAEL,EAAEM,cAAc,KAAKD,GAAGA,IAAIF,EAAEI,MAAM,CAAC,IAAI,IAAIC,KAAKH,EAAEI,SAASP,EAAEQ,MAAKC,GAAGH,EAAEI,SAASD,MAAKb,EAAEG,IAAItB,EAAE6B,IAAIH,EAAEA,EAAEC,aAAa,CAAC,CAAC,OAAOR,EAAEe,OAAO,GAAE,CAACxB,EAAEP,EAAED,GAAG"}