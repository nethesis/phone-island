"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("react"),t=require("../utils/disposables.js"),r=require("./use-latest-value.js");exports.useOnDisappear=function(s,n,i){let u=r.useLatestValue((e=>{let t=e.getBoundingClientRect();0===t.x&&0===t.y&&0===t.width&&0===t.height&&i()}));e.useEffect((()=>{if(!s)return;let e=null===n?null:n instanceof HTMLElement?n:n.current;if(!e)return;let r=t.disposables();if("undefined"!=typeof ResizeObserver){let t=new ResizeObserver((()=>u.current(e)));t.observe(e),r.add((()=>t.disconnect()))}if("undefined"!=typeof IntersectionObserver){let t=new IntersectionObserver((()=>u.current(e)));t.observe(e),r.add((()=>t.disconnect()))}return()=>r.dispose()}),[n,u,s])};
//# sourceMappingURL=use-on-disappear.js.map
