"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("react"),t=require("../../hooks/use-event.js"),r=require("../../hooks/use-iso-morphic-effect.js"),l=require("../../hooks/use-sync-refs.js"),o=require("../../internal/disabled.js"),n=require("../../internal/id.js"),i=require("../../utils/render.js");function s(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var u=s(e);let a=e.createContext(null);function c(){let t=e.useContext(a);if(null===t){let e=new Error("You used a <Label /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(e,c),e}return t}function d(t){var r,l,o;let n=null!=(l=null==(r=e.useContext(a))?void 0:r.value)?l:void 0;return(null!=(o=null==t?void 0:t.length)?o:0)>0?[n,...t].filter(Boolean).join(" "):n}a.displayName="LabelContext";let p=i.forwardRefWithAs((function(s,u){var a;let d=e.useId(),p=c(),f=n.useProvidedId(),v=o.useDisabled(),{id:b=`headlessui-label-${d}`,htmlFor:m=(null!=f?f:null==(a=p.props)?void 0:a.htmlFor),passive:h=!1,...k}=s,C=l.useSyncRefs(u);r.useIsoMorphicEffect((()=>p.register(b)),[b,p.register]);let x=t.useEvent((e=>{let t=e.currentTarget;if(t instanceof HTMLLabelElement&&e.preventDefault(),p.props&&"onClick"in p.props&&"function"==typeof p.props.onClick&&p.props.onClick(e),t instanceof HTMLLabelElement){let e=document.getElementById(t.htmlFor);if(e){let t=e.getAttribute("disabled");if("true"===t||""===t)return;let r=e.getAttribute("aria-disabled");if("true"===r||""===r)return;(e instanceof HTMLInputElement&&("radio"===e.type||"checkbox"===e.type)||"radio"===e.role||"checkbox"===e.role||"switch"===e.role)&&e.click(),e.focus({preventScroll:!0})}}})),g=v||!1,j=e.useMemo((()=>({...p.slot,disabled:g})),[p.slot,g]),E={ref:C,...p.props,id:b,htmlFor:m,onClick:x};return h&&("onClick"in E&&(delete E.htmlFor,delete E.onClick),"onClick"in k&&delete k.onClick),i.useRender()({ourProps:E,theirProps:k,slot:j,defaultTag:m?"label":"div",name:p.name||"Label"})}));Object.assign(p,{}),exports.useLabelContext=c,exports.useLabelledBy=d,exports.useLabels=function({inherit:r=!1}={}){let l=d(),[o,n]=e.useState([]),i=r?[l,...o].filter(Boolean):o;return[i.length>0?i.join(" "):void 0,e.useMemo((()=>function(r){let l=t.useEvent((e=>(n((t=>[...t,e])),()=>n((t=>{let r=t.slice(),l=r.indexOf(e);return-1!==l&&r.splice(l,1),r}))))),o=e.useMemo((()=>({register:l,slot:r.slot,name:r.name,props:r.props,value:r.value})),[l,r.slot,r.name,r.props,r.value]);return u.default.createElement(a.Provider,{value:o},r.children)}),[n])]};
//# sourceMappingURL=label.js.map
