"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("react"),t=require("./class-names.js"),n=require("./match.js");function r(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var l,a,o=r(e),s=((a=s||{})[a.None=0]="None",a[a.RenderStrategy=1]="RenderStrategy",a[a.Static=2]="Static",a),i=((l=i||{})[l.Unmount=0]="Unmount",l[l.Hidden=1]="Hidden",l);function f(n,r={},l,a,o){let{as:s=l,children:i,refName:f="ref",...u}=p(n,["unmount","static"]),g=void 0!==n.ref?{[f]:n.ref}:{},h="function"==typeof i?i(r):i;"className"in u&&u.className&&"function"==typeof u.className&&(u.className=u.className(r)),u["aria-labelledby"]&&u["aria-labelledby"]===u.id&&(u["aria-labelledby"]=void 0);let y={};if(r){let e=!1,t=[];for(let[n,l]of Object.entries(r))"boolean"==typeof l&&(e=!0),!0===l&&t.push(n.replace(/([A-Z])/g,(e=>`-${e.toLowerCase()}`)));if(e){y["data-headlessui-state"]=t.join(" ");for(let e of t)y[`data-${e}`]=""}}if(s===e.Fragment&&(Object.keys(d(u)).length>0||Object.keys(d(y)).length>0)){if(e.isValidElement(h)&&!(Array.isArray(h)&&h.length>1)){let n=h.props,r=null==n?void 0:n.className,l="function"==typeof r?(...e)=>t.classNames(r(...e),u.className):t.classNames(r,u.className),a=l?{className:l}:{},s=c(h.props,d(p(u,["ref"])));for(let e in y)e in s&&delete y[e];return e.cloneElement(h,Object.assign({},s,y,g,{ref:o(m(h),g.ref)},a))}if(Object.keys(d(u)).length>0)throw new Error(['Passing props on "Fragment"!',"",`The current component <${a} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(d(u)).concat(Object.keys(d(y))).map((e=>`  - ${e}`)).join("\n"),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map((e=>`  - ${e}`)).join("\n")].join("\n"))}return e.createElement(s,Object.assign({},p(u,["ref"]),s!==e.Fragment&&g,s!==e.Fragment&&y),h)}function u(...e){return e.every((e=>null==e))?void 0:t=>{for(let n of e)null!=n&&("function"==typeof n?n(t):n.current=t)}}function c(...e){if(0===e.length)return{};if(1===e.length)return e[0];let t={},n={};for(let r of e)for(let e in r)e.startsWith("on")&&"function"==typeof r[e]?(null!=n[e]||(n[e]=[]),n[e].push(r[e])):t[e]=r[e];if(t.disabled||t["aria-disabled"])for(let e in n)/^(on(?:Click|Pointer|Mouse|Key)(?:Down|Up|Press)?)$/.test(e)&&(n[e]=[e=>{var t;return null==(t=null==e?void 0:e.preventDefault)?void 0:t.call(e)}]);for(let e in n)Object.assign(t,{[e](t,...r){let l=n[e];for(let e of l){if((t instanceof Event||(null==t?void 0:t.nativeEvent)instanceof Event)&&t.defaultPrevented)return;e(t,...r)}}});return t}function d(e){let t=Object.assign({},e);for(let e in t)void 0===t[e]&&delete t[e];return t}function p(e,t=[]){let n=Object.assign({},e);for(let e of t)e in n&&delete n[e];return n}function m(e){return o.default.version.split(".")[0]>="19"?e.props.ref:e.ref}exports.RenderFeatures=s,exports.RenderStrategy=i,exports.compact=d,exports.forwardRefWithAs=function(t){var n;return Object.assign(e.forwardRef(t),{displayName:null!=(n=t.displayName)?n:t.name})},exports.mergeProps=function(...e){if(0===e.length)return{};if(1===e.length)return e[0];let t={},n={};for(let r of e)for(let e in r)e.startsWith("on")&&"function"==typeof r[e]?(null!=n[e]||(n[e]=[]),n[e].push(r[e])):t[e]=r[e];for(let e in n)Object.assign(t,{[e](...t){let r=n[e];for(let e of r)null==e||e(...t)}});return t},exports.useRender=function(){let t=function(){let t=e.useRef([]),n=e.useCallback((e=>{for(let n of t.current)null!=n&&("function"==typeof n?n(e):n.current=e)}),[]);return(...e)=>{if(!e.every((e=>null==e)))return t.current=e,n}}();return e.useCallback((e=>function({ourProps:e,theirProps:t,slot:r,defaultTag:l,features:a,visible:o=!0,name:s,mergeRefs:i}){i=null!=i?i:u;let d=c(t,e);if(o)return f(d,r,l,s,i);let p=null!=a?a:0;if(2&p){let{static:e=!1,...t}=d;if(e)return f(t,r,l,s,i)}if(1&p){let{unmount:e=!0,...t}=d;return n.match(e?0:1,{0:()=>null,1:()=>f({...t,hidden:!0,style:{display:"none"}},r,l,s,i)})}return f(d,r,l,s,i)}({mergeRefs:t,...e})),[t])};
//# sourceMappingURL=render.js.map
