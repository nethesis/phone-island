{"version":3,"file":"wake_up.js","sources":["../../src/workers/wake_up.ts"],"sourcesContent":["//\n// Copyright (C) 2024 Nethesis S.r.l.\n// SPDX-License-Identifier: AGPL-3.0-or-later\n//\n\nimport exposeWorker from '../utils/genericFunctions/exposeWorker'\n\n/**\n * Performs a check about the tab inactivity\n * ...probably a standby of the computer\n */\nconst wakeUpWorker = exposeWorker(() => {\n  let lastTime = new Date().getTime()\n  const CHECK_INTERVAL = 2000\n  setInterval(() => {\n    const currentTime = new Date().getTime()\n    if (currentTime > lastTime + CHECK_INTERVAL * 2) {\n      postMessage('wakeup')\n    }\n    lastTime = currentTime\n  }, CHECK_INTERVAL)\n})\n\nexport default wakeUpWorker\n"],"names":["wakeUpWorker","lastTime","Date","getTime","setInterval","currentTime","CHECK_INTERVAL","postMessage"],"mappings":"wEAWMA,uDAA2B,SAAC,WAChC,IAAIC,GAAW,IAAIC,MAAOC,UAE1BC,aAAY,WACV,IAAMC,GAAc,IAAIH,MAAOC,UAC3BE,EAAcJ,EAAWK,KAC3BC,YAAY,UAEdN,EAAWI,CACZ,GAPsB,IAQzB"}