"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("../node_modules/tslib/tslib.es6.js"),n=require("../node_modules/@rematch/core/dist/core.esm.js"),s={usersList:null,ownerInformations:null,isActive:!1,conferenceStartedFrom:"",conferenceStartTime:null,isOwnerInside:!1,isConferenceMuted:!1,conferenceId:""},r=n.createModel()({state:s,reducers:{updateConferenceUsersList:function(n,s){var r=null,t=!!s&&Object.keys(s).length>0,i={};if(s){var o=Date.now();Object.entries(s).forEach((function(s){var t,a=s[0],u=s[1],_=null===(t=n.usersList)||void 0===t?void 0:t[a];i[a]=e.__assign(e.__assign({},u),{joinTime:(null==_?void 0:_.joinTime)||o,muted:_?_.muted:u.muted}),u.owner&&(r=e.__assign(e.__assign({},u),{joinTime:(null==_?void 0:_.joinTime)||o,muted:_?_.muted:u.muted}))}))}var a=!n.isActive&&t?Date.now():n.conferenceStartTime;return e.__assign(e.__assign({},n),{usersList:i,ownerInformations:r,isActive:t,conferenceStartTime:t?a:null})},updateOwnerInformations:function(n,s){return e.__assign(e.__assign({},n),{ownerInformations:s})},setConferenceActive:function(n,s){return e.__assign(e.__assign({},n),{isActive:s,conferenceStartTime:s&&!n.conferenceStartTime?Date.now():n.conferenceStartTime})},setConferenceStartedFrom:function(n,s){return e.__assign(e.__assign({},n),{conferenceStartedFrom:s})},resetTimer:function(n){return e.__assign(e.__assign({},n),{conferenceStartTime:Date.now()})},resetFirstUserFlag:function(n){return e.__assign(e.__assign({},n),{isFirstUser:!1})},toggleUserMuted:function(n,s){var r=s.extenId,t=s.muted;if(!n.usersList||!n.usersList[r])return n;var i=e.__assign({},n.usersList);i[r]=e.__assign(e.__assign({},i[r]),{muted:void 0!==t?t:!i[r].muted});var o=n.ownerInformations;return n.ownerInformations&&n.ownerInformations.extenId===r&&(o=e.__assign(e.__assign({},n.ownerInformations),{muted:i[r].muted})),e.__assign(e.__assign({},n),{usersList:i,ownerInformations:o})},toggleIsOwnerInside:function(n,s){return e.__assign(e.__assign({},n),{isOwnerInside:s})},toggleIsConferenceMuted:function(n,s){return e.__assign(e.__assign({},n),{isConferenceMuted:s})},updateConferenceId:function(n,s){return e.__assign(e.__assign({},n),{conferenceId:s})},resetConference:function(){return s}}});exports.conference=r;
//# sourceMappingURL=conference.js.map
